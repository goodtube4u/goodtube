(()=>{(function(){"use strict";var $i=Object.defineProperty,b=(e,t)=>$i(e,"name",{value:t,configurable:!0}),{entries:xo,setPrototypeOf:wo,isFrozen:en,getPrototypeOf:tn,getOwnPropertyDescriptor:on}=Object,{freeze:B,seal:H,create:Pt}=Object,{apply:Bt,construct:qt}=typeof Reflect<"u"&&Reflect;B||(B=b(function(e){return e},"freeze")),H||(H=b(function(e){return e},"seal")),Bt||(Bt=b(function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return e.apply(t,n)},"apply")),qt||(qt=b(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return new e(...i)},"construct"));var tt=N(Array.prototype.forEach),nn=N(Array.prototype.lastIndexOf),ko=N(Array.prototype.pop),Be=N(Array.prototype.push),an=N(Array.prototype.splice),ot=N(String.prototype.toLowerCase),Vt=N(String.prototype.toString),zt=N(String.prototype.match),qe=N(String.prototype.replace),rn=N(String.prototype.indexOf),dn=N(String.prototype.trim),Y=N(Object.prototype.hasOwnProperty),q=N(RegExp.prototype.test),Ve=Ao(TypeError);function N(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Bt(e,t,n)}}b(N,"unapply");function Ao(e){return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return qt(e,i)}}b(Ao,"unconstruct");function p(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ot;wo&&wo(e,null);let n=t.length;for(;n--;){let r=t[n];if(typeof r=="string"){let u=i(r);u!==r&&(en(t)||(t[n]=u),r=u)}e[r]=!0}return e}b(p,"addToSet");function Eo(e){for(let t=0;t<e.length;t++)Y(e,t)||(e[t]=null);return e}b(Eo,"cleanArray");function j(e){let t=Pt(null);for(let[i,n]of xo(e))Y(e,i)&&(Array.isArray(n)?t[i]=Eo(n):n&&typeof n=="object"&&n.constructor===Object?t[i]=j(n):t[i]=n);return t}b(j,"clone");function ve(e,t){for(;e!==null;){let n=on(e,t);if(n){if(n.get)return N(n.get);if(typeof n.value=="function")return N(n.value)}e=tn(e)}function i(){return null}return b(i,"fallbackValue"),i}b(ve,"lookupGetter");var So=B(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ft=B(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ut=B(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ln=B(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ht=B(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sn=B(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Io=B(["#text"]),Mo=B(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Yt=B(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Co=B(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),it=B(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),un=H(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cn=H(/<%[\w\W]*|[\w\W]*%>/gm),fn=H(/\$\{[\w\W]*/gm),pn=H(/^data-[\-\w.\u00B7-\uFFFF]+$/),mn=H(/^aria-[\-\w]+$/),Lo=H(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bn=H(/^(?:\w+script|data):/i),gn=H(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Do=H(/^html$/i),_n=H(/^[a-z][.\w]*(-[.\w]+)+$/i),Ro=Object.freeze({__proto__:null,ARIA_ATTR:mn,ATTR_WHITESPACE:gn,CUSTOM_ELEMENT:_n,DATA_ATTR:pn,DOCTYPE_NAME:Do,ERB_EXPR:cn,IS_ALLOWED_URI:Lo,IS_SCRIPT_OR_DATA:bn,MUSTACHE_EXPR:un,TMPLIT_EXPR:fn}),ze={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},yn=b(function(){return typeof window>"u"?null:window},"getGlobal"),hn=b(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));let r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},"_createTrustedTypesPolicy"),Oo=b(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function Gt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yn(),t=b(o=>Gt(o),"DOMPurify");if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==ze.document||!e.Element)return t.isSupported=!1,t;let{document:i}=e,n=i,r=n.currentScript,{DocumentFragment:u,HTMLTemplateElement:m,Node:y,Element:v,NodeFilter:k,NamedNodeMap:be=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ae,DOMParser:ge,trustedTypes:_e}=e,re=v.prototype,Tt=ve(re,"cloneNode"),vt=ve(re,"remove"),xt=ve(re,"nextSibling"),wt=ve(re,"childNodes"),de=ve(re,"parentNode");if(typeof m=="function"){let o=i.createElement("template");o.content&&o.content.ownerDocument&&(i=o.content.ownerDocument)}let E,te="",{implementation:z,createNodeIterator:kt,createDocumentFragment:At,getElementsByTagName:Et}=i,{importNode:Li}=n,S=Oo();t.isSupported=typeof xo=="function"&&typeof de=="function"&&z&&z.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Me,ERB_EXPR:P,TMPLIT_EXPR:F,DATA_ATTR:U,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:St,ATTR_WHITESPACE:Ze,CUSTOM_ELEMENT:It}=Ro,{IS_ALLOWED_URI:Ke}=Ro,x=null,Je=p({},[...So,...Ft,...Ut,...Ht,...Io]),A=null,Di=p({},[...Mo,...Yt,...Co,...it]),w=Object.seal(Pt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,co=null,Ce=Object.seal(Pt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),Ri=!0,fo=!0,Oi=!1,Ni=!0,Le=!1,Mt=!0,ye=!1,po=!1,mo=!1,De=!1,Ct=!1,Lt=!1,Pi=!0,Bi=!1,ua="user-content-",bo=!0,$e=!1,Re={},Oe=null,qi=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Vi=null,zi=p({},["audio","video","img","source","image","track"]),go=null,Fi=p({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dt="http://www.w3.org/1998/Math/MathML",Rt="http://www.w3.org/2000/svg",oe="http://www.w3.org/1999/xhtml",Ne=oe,_o=!1,yo=null,ca=p({},[Dt,Rt,oe],Vt),Ot=p({},["mi","mo","mn","ms","mtext"]),Nt=p({},["annotation-xml"]),fa=p({},["title","style","font","a","script"]),et=null,pa=["application/xhtml+xml","text/html"],ma="text/html",L=null,Pe=null,ba=i.createElement("form"),Ui=b(function(o){return o instanceof RegExp||o instanceof Function},"isRegexOrFunction"),ho=b(function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pe&&Pe===o)){if((!o||typeof o!="object")&&(o={}),o=j(o),et=pa.indexOf(o.PARSER_MEDIA_TYPE)===-1?ma:o.PARSER_MEDIA_TYPE,L=et==="application/xhtml+xml"?Vt:ot,x=Y(o,"ALLOWED_TAGS")?p({},o.ALLOWED_TAGS,L):Je,A=Y(o,"ALLOWED_ATTR")?p({},o.ALLOWED_ATTR,L):Di,yo=Y(o,"ALLOWED_NAMESPACES")?p({},o.ALLOWED_NAMESPACES,Vt):ca,go=Y(o,"ADD_URI_SAFE_ATTR")?p(j(Fi),o.ADD_URI_SAFE_ATTR,L):Fi,Vi=Y(o,"ADD_DATA_URI_TAGS")?p(j(zi),o.ADD_DATA_URI_TAGS,L):zi,Oe=Y(o,"FORBID_CONTENTS")?p({},o.FORBID_CONTENTS,L):qi,Xe=Y(o,"FORBID_TAGS")?p({},o.FORBID_TAGS,L):j({}),co=Y(o,"FORBID_ATTR")?p({},o.FORBID_ATTR,L):j({}),Re=Y(o,"USE_PROFILES")?o.USE_PROFILES:!1,Ri=o.ALLOW_ARIA_ATTR!==!1,fo=o.ALLOW_DATA_ATTR!==!1,Oi=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Ni=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Le=o.SAFE_FOR_TEMPLATES||!1,Mt=o.SAFE_FOR_XML!==!1,ye=o.WHOLE_DOCUMENT||!1,De=o.RETURN_DOM||!1,Ct=o.RETURN_DOM_FRAGMENT||!1,Lt=o.RETURN_TRUSTED_TYPE||!1,mo=o.FORCE_BODY||!1,Pi=o.SANITIZE_DOM!==!1,Bi=o.SANITIZE_NAMED_PROPS||!1,bo=o.KEEP_CONTENT!==!1,$e=o.IN_PLACE||!1,Ke=o.ALLOWED_URI_REGEXP||Lo,Ne=o.NAMESPACE||oe,Ot=o.MATHML_TEXT_INTEGRATION_POINTS||Ot,Nt=o.HTML_INTEGRATION_POINTS||Nt,w=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&Ui(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(w.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Ui(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(w.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(w.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(fo=!1),Ct&&(De=!0),Re&&(x=p({},Io),A=[],Re.html===!0&&(p(x,So),p(A,Mo)),Re.svg===!0&&(p(x,Ft),p(A,Yt),p(A,it)),Re.svgFilters===!0&&(p(x,Ut),p(A,Yt),p(A,it)),Re.mathMl===!0&&(p(x,Ht),p(A,Co),p(A,it))),o.ADD_TAGS&&(typeof o.ADD_TAGS=="function"?Ce.tagCheck=o.ADD_TAGS:(x===Je&&(x=j(x)),p(x,o.ADD_TAGS,L))),o.ADD_ATTR&&(typeof o.ADD_ATTR=="function"?Ce.attributeCheck=o.ADD_ATTR:(A===Di&&(A=j(A)),p(A,o.ADD_ATTR,L))),o.ADD_URI_SAFE_ATTR&&p(go,o.ADD_URI_SAFE_ATTR,L),o.FORBID_CONTENTS&&(Oe===qi&&(Oe=j(Oe)),p(Oe,o.FORBID_CONTENTS,L)),bo&&(x["#text"]=!0),ye&&p(x,["html","head","body"]),x.table&&(p(x,["tbody"]),delete Xe.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ve('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ve('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=o.TRUSTED_TYPES_POLICY,te=E.createHTML("")}else E===void 0&&(E=hn(_e,r)),E!==null&&typeof te=="string"&&(te=E.createHTML(""));B&&B(o),Pe=o}},"_parseConfig"),Hi=p({},[...Ft,...Ut,...ln]),Yi=p({},[...Ht,...sn]),ga=b(function(o){let l=de(o);(!l||!l.tagName)&&(l={namespaceURI:Ne,tagName:"template"});let d=ot(o.tagName),_=ot(l.tagName);return yo[o.namespaceURI]?o.namespaceURI===Rt?l.namespaceURI===oe?d==="svg":l.namespaceURI===Dt?d==="svg"&&(_==="annotation-xml"||Ot[_]):!!Hi[d]:o.namespaceURI===Dt?l.namespaceURI===oe?d==="math":l.namespaceURI===Rt?d==="math"&&Nt[_]:!!Yi[d]:o.namespaceURI===oe?l.namespaceURI===Rt&&!Nt[_]||l.namespaceURI===Dt&&!Ot[_]?!1:!Yi[d]&&(fa[d]||!Hi[d]):!!(et==="application/xhtml+xml"&&yo[o.namespaceURI]):!1},"_checkValidNamespace"),he=b(function(o){Be(t.removed,{element:o});try{de(o).removeChild(o)}catch{vt(o)}},"_forceRemove"),Te=b(function(o,l){try{Be(t.removed,{attribute:l.getAttributeNode(o),from:l})}catch{Be(t.removed,{attribute:null,from:l})}if(l.removeAttribute(o),o==="is")if(De||Ct)try{he(l)}catch{}else try{l.setAttribute(o,"")}catch{}},"_removeAttribute"),Gi=b(function(o){let l=null,d=null;if(mo)o="<remove></remove>"+o;else{let T=zt(o,/^[\r\n\t ]+/);d=T&&T[0]}et==="application/xhtml+xml"&&Ne===oe&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");let _=E?E.createHTML(o):o;if(Ne===oe)try{l=new ge().parseFromString(_,et)}catch{}if(!l||!l.documentElement){l=z.createDocument(Ne,"template",null);try{l.documentElement.innerHTML=_o?te:_}catch{}}let R=l.body||l.documentElement;return o&&d&&R.insertBefore(i.createTextNode(d),R.childNodes[0]||null),Ne===oe?Et.call(l,ye?"html":"body")[0]:ye?l.documentElement:R},"_initDocument"),Wi=b(function(o){return kt.call(o.ownerDocument||o,o,k.SHOW_ELEMENT|k.SHOW_COMMENT|k.SHOW_TEXT|k.SHOW_PROCESSING_INSTRUCTION|k.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),To=b(function(o){return o instanceof ae&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof be)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},"_isClobbered"),Qi=b(function(o){return typeof y=="function"&&o instanceof y},"_isNode");function ee(o,l,d){tt(o,_=>{_.call(t,l,d,Pe)})}b(ee,"_executeHooks");let ji=b(function(o){let l=null;if(ee(S.beforeSanitizeElements,o,null),To(o))return he(o),!0;let d=L(o.nodeName);if(ee(S.uponSanitizeElement,o,{tagName:d,allowedTags:x}),Mt&&o.hasChildNodes()&&!Qi(o.firstElementChild)&&q(/<[/\w!]/g,o.innerHTML)&&q(/<[/\w!]/g,o.textContent)||o.nodeType===ze.progressingInstruction||Mt&&o.nodeType===ze.comment&&q(/<[/\w]/g,o.data))return he(o),!0;if(!(Ce.tagCheck instanceof Function&&Ce.tagCheck(d))&&(!x[d]||Xe[d])){if(!Xe[d]&&Ki(d)&&(w.tagNameCheck instanceof RegExp&&q(w.tagNameCheck,d)||w.tagNameCheck instanceof Function&&w.tagNameCheck(d)))return!1;if(bo&&!Oe[d]){let _=de(o)||o.parentNode,R=wt(o)||o.childNodes;if(R&&_){let T=R.length;for(let ie=T-1;ie>=0;--ie){let W=Tt(R[ie],!0);W.__removalCount=(o.__removalCount||0)+1,_.insertBefore(W,xt(o))}}}return he(o),!0}return o instanceof v&&!ga(o)||(d==="noscript"||d==="noembed"||d==="noframes")&&q(/<\/no(script|embed|frames)/i,o.innerHTML)?(he(o),!0):(Le&&o.nodeType===ze.text&&(l=o.textContent,tt([Me,P,F],_=>{l=qe(l,_," ")}),o.textContent!==l&&(Be(t.removed,{element:o.cloneNode()}),o.textContent=l)),ee(S.afterSanitizeElements,o,null),!1)},"_sanitizeElements"),Zi=b(function(o,l,d){if(Pi&&(l==="id"||l==="name")&&(d in i||d in ba))return!1;if(!(fo&&!co[l]&&q(U,l))&&!(Ri&&q($,l))&&!(Ce.attributeCheck instanceof Function&&Ce.attributeCheck(l,o))){if(!A[l]||co[l]){if(!(Ki(o)&&(w.tagNameCheck instanceof RegExp&&q(w.tagNameCheck,o)||w.tagNameCheck instanceof Function&&w.tagNameCheck(o))&&(w.attributeNameCheck instanceof RegExp&&q(w.attributeNameCheck,l)||w.attributeNameCheck instanceof Function&&w.attributeNameCheck(l,o))||l==="is"&&w.allowCustomizedBuiltInElements&&(w.tagNameCheck instanceof RegExp&&q(w.tagNameCheck,d)||w.tagNameCheck instanceof Function&&w.tagNameCheck(d))))return!1}else if(!go[l]&&!q(Ke,qe(d,Ze,""))&&!((l==="src"||l==="xlink:href"||l==="href")&&o!=="script"&&rn(d,"data:")===0&&Vi[o])&&!(Oi&&!q(St,qe(d,Ze,"")))&&d)return!1}return!0},"_isValidAttribute"),Ki=b(function(o){return o!=="annotation-xml"&&zt(o,It)},"_isBasicCustomElement"),Ji=b(function(o){ee(S.beforeSanitizeAttributes,o,null);let{attributes:l}=o;if(!l||To(o))return;let d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:A,forceKeepAttr:void 0},_=l.length;for(;_--;){let R=l[_],{name:T,namespaceURI:ie,value:W}=R,Q=L(T),vo=W,O=T==="value"?vo:dn(vo);if(d.attrName=Q,d.attrValue=O,d.keepAttr=!0,d.forceKeepAttr=void 0,ee(S.uponSanitizeAttribute,o,d),O=d.attrValue,Bi&&(Q==="id"||Q==="name")&&(Te(T,o),O=ua+O),Mt&&q(/((--!?|])>)|<\/(style|title|textarea)/i,O)){Te(T,o);continue}if(Q==="attributename"&&zt(O,"href")){Te(T,o);continue}if(d.forceKeepAttr)continue;if(!d.keepAttr){Te(T,o);continue}if(!Ni&&q(/\/>/i,O)){Te(T,o);continue}Le&&tt([Me,P,F],ya=>{O=qe(O,ya," ")});let Xi=L(o.nodeName);if(!Zi(Xi,Q,O)){Te(T,o);continue}if(E&&typeof _e=="object"&&typeof _e.getAttributeType=="function"&&!ie)switch(_e.getAttributeType(Xi,Q)){case"TrustedHTML":{O=E.createHTML(O);break}case"TrustedScriptURL":{O=E.createScriptURL(O);break}}if(O!==vo)try{ie?o.setAttributeNS(ie,T,O):o.setAttribute(T,O),To(o)?he(o):ko(t.removed)}catch{Te(T,o)}}ee(S.afterSanitizeAttributes,o,null)},"_sanitizeAttributes"),_a=b(function o(l){let d=null,_=Wi(l);for(ee(S.beforeSanitizeShadowDOM,l,null);d=_.nextNode();)ee(S.uponSanitizeShadowNode,d,null),ji(d),Ji(d),d.content instanceof u&&o(d.content);ee(S.afterSanitizeShadowDOM,l,null)},"_sanitizeShadowDOM");return t.sanitize=function(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=null,_=null,R=null,T=null;if(_o=!o,_o&&(o="<!-->"),typeof o!="string"&&!Qi(o))if(typeof o.toString=="function"){if(o=o.toString(),typeof o!="string")throw Ve("dirty is not a string, aborting")}else throw Ve("toString is not a function");if(!t.isSupported)return o;if(po||ho(l),t.removed=[],typeof o=="string"&&($e=!1),$e){if(o.nodeName){let Q=L(o.nodeName);if(!x[Q]||Xe[Q])throw Ve("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof y)d=Gi("<!---->"),_=d.ownerDocument.importNode(o,!0),_.nodeType===ze.element&&_.nodeName==="BODY"||_.nodeName==="HTML"?d=_:d.appendChild(_);else{if(!De&&!Le&&!ye&&o.indexOf("<")===-1)return E&&Lt?E.createHTML(o):o;if(d=Gi(o),!d)return De?null:Lt?te:""}d&&mo&&he(d.firstChild);let ie=Wi($e?o:d);for(;R=ie.nextNode();)ji(R),Ji(R),R.content instanceof u&&_a(R.content);if($e)return o;if(De){if(Ct)for(T=At.call(d.ownerDocument);d.firstChild;)T.appendChild(d.firstChild);else T=d;return(A.shadowroot||A.shadowrootmode)&&(T=Li.call(n,T,!0)),T}let W=ye?d.outerHTML:d.innerHTML;return ye&&x["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&q(Do,d.ownerDocument.doctype.name)&&(W="<!DOCTYPE "+d.ownerDocument.doctype.name+">"+W),Le&&tt([Me,P,F],Q=>{W=qe(W,Q," ")}),E&&Lt?E.createHTML(W):W},t.setConfig=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ho(o),po=!0},t.clearConfig=function(){Pe=null,po=!1},t.isValidAttribute=function(o,l,d){Pe||ho({});let _=L(o),R=L(l);return Zi(_,R,d)},t.addHook=function(o,l){typeof l=="function"&&Be(S[o],l)},t.removeHook=function(o,l){if(l!==void 0){let d=nn(S[o],l);return d===-1?void 0:an(S[o],d,1)[0]}return ko(S[o])},t.removeHooks=function(o){S[o]=[]},t.removeAllHooks=function(){S=Oo()},t}b(Gt,"createDOMPurify");var No=Gt();let Fe=!1;window.trustedTypes&&window.trustedTypes.createPolicy&&No&&(Fe=window.trustedTypes.createPolicy("GoodTubePolicy",{createHTML:e=>No.sanitize(e,{RETURN_TRUSTED_TYPE:!0})}));function Po(){let e={};if(document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g,function(){function t(i){return decodeURIComponent(i.split("+").join(" "))}e[t(arguments[1])]=t(arguments[2])}),G()&&typeof e.v>"u"){let t="";window.location.href.indexOf("/watch/")!==-1?t="/watch/":t="/live/";let i=window.location.href.split(t);if(i.length===2){let n=i[1].split("?");e.v=n[n.length-1]}}return e}function f(e,t,i=399){e=e+"_new",document.cookie=e+"="+encodeURIComponent(t)+";SameSite=Lax;path=/;max-age="+i*24*60*60}function V(e){e=e+"_new";let t=document.cookie.split(";");for(let i=0;i<t.length;i++){let n=t[i].split("=");if(e==n[0].trim())return decodeURIComponent(n[1])}return null}function Z(e){e&&(e.dispatchEvent(new PointerEvent("mousedown",{bubbles:!0,cancelable:!0,button:0})),e.dispatchEvent(new PointerEvent("click",{bubbles:!0,cancelable:!0,button:0})),e.dispatchEvent(new PointerEvent("mouseup",{bubbles:!0,cancelable:!0,button:0})))}function Tn(){let e=document.createElement("style");e.setAttribute("data-version","old"),e.textContent=`
			.goodTube_hidden {
				display: none !important;
			}
		`,document.head.appendChild(e)}function K(e){e&&!e.classList.contains("goodTube_hidden")&&e.classList.add("goodTube_hidden")}function nt(e){e&&e.classList.contains("goodTube_hidden")&&e.classList.remove("goodTube_hidden")}function G(){return window.location.href.indexOf("/watch/")!==-1||window.location.href.indexOf("/watch?")!==-1||window.location.href.indexOf("/live/")!==-1}function Wt(){if(G()){let e=document.querySelector(".video-ads"),t=document.querySelector(".ad-simple-attributed-string");return!!(e&&e.checkVisibility()||t&&t.checkVisibility())}}function at(e,t){Fe&&(t=Fe.createHTML(t)),e.innerHTML=t}function vn(e,t,i){Fe&&(i=Fe.createHTML(i)),e.insertAdjacentHTML(t,i)}function Bo(e){let t=!1,i=!1,n=!1;e==="next"?(t="n",i=78,n=!0):e==="previous"&&(t="p",i=80,n=!0);let r=!1;r=new window.KeyboardEvent("focus",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("keydown",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("beforeinput",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("keypress",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("input",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("change",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("keyup",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r)}let le=!1,D=!1,s=!1,c=!1,Ue=!1,Qt=!1,qo=!1,xn=!1,Vo=!1,zo=!0,Fo=!1,jt=!1,se=[],He=0,h=!1,Zt=document.hasFocus(),xe=V("goodTube_shorts");xe||(f("goodTube_shorts","false"),xe="false");let Ye=V("goodTube_hideInfoCards");Ye||(f("goodTube_hideInfoCards","false"),Ye="false");let Ge=V("goodTube_hideEndScreen");Ge||(f("goodTube_hideEndScreen","false"),Ge="false");let rt=V("goodTube_hideSuggestedVideos");rt||(f("goodTube_hideSuggestedVideos","false"),rt="false");let dt=V("goodTube_hideComments");dt||(f("goodTube_hideComments","false"),dt="false");let lt=V("goodTube_hideAiSummaries");lt||(f("goodTube_hideAiSummaries","false"),lt="false");let We=V("goodTube_hideMembersOnlyVideos");We||(f("goodTube_hideMembersOnlyVideos","false"),We="false");let Qe=V("goodTube_alwaysStart");Qe||(f("goodTube_alwaysStart","false"),Qe="false");let st=V("goodTube_blackBackground");st||(f("goodTube_blackBackground","true"),st="true");let ut=V("goodTube_instantPause");ut||(f("goodTube_instantPause","false"),ut="false");let I=V("goodTube_videosPerRow");I||(f("goodTube_videosPerRow","default"),I="default");let J=V("goodTube_autoplay");J||(f("goodTube_autoplay","true"),J="true");let we=V("goodTube_playbackSpeed");we||(we="1");let M=Po(),a=!1;function wn(){if(!a){let e=document.getElementById("goodTube_settings"),t=document.querySelector(".goodTube_modal[data-visible]");if(e||t){a=!0;let i=document.querySelector(".goodTube_menuButton");i&&i.remove();let n=document.querySelector(".goodTube_menuClose");n&&n.remove(),window.top===window.self&&alert(`Oops! Looks like you're using the old and new version of GoodTube at the same time!

Please remove the old version (or things may not work properly).

To remove the old version, simply remove the Tampermonkey extension from your browser.

Alternatively, if you want to keep Tampermonkey, simply remove the GoodTube userscript from within Tampermonkey.

If you have any issues or need help, please email goodtube4u@gmail.com`)}}a&&document.querySelectorAll('[data-version="old"]').forEach(t=>{t.remove()})}setInterval(wn,0);function kn(){if(a)return;let e=`
			.ytd-search ytd-shelf-renderer,
			ytd-reel-shelf-renderer,
			ytd-merch-shelf-renderer,
			ytd-action-companion-ad-renderer,
			ytd-display-ad-renderer,

			ytd-video-masthead-ad-advertiser-info-renderer,
			ytd-video-masthead-ad-primary-video-renderer,
			ytd-in-feed-ad-layout-renderer,
			ytd-ad-slot-renderer,
			ytd-statement-banner-renderer,
			ytd-banner-promo-renderer-background
			ytd-ad-slot-renderer,
			ytd-in-feed-ad-layout-renderer,
			ytd-engagement-panel-section-list-renderer:not(.ytd-popup-container):not([target-id='engagement-panel-clip-create']):not(.ytd-shorts),
			ytd-compact-video-renderer:has(.goodTube_hidden),
			ytd-rich-item-renderer:has(> #content > ytd-ad-slot-renderer)
			.ytd-video-masthead-ad-v3-renderer,
			div#root.style-scope.ytd-display-ad-renderer.yt-simple-endpoint,
			div#sparkles-container.style-scope.ytd-promoted-sparkles-web-renderer,
			div#main-container.style-scope.ytd-promoted-video-renderer,
			div#player-ads.style-scope.ytd-watch-flexy,
			#clarify-box,
			ytd-rich-item-renderer:has(> #content > ytd-ad-slot-renderer),

			ytm-rich-shelf-renderer,
			ytm-search ytm-shelf-renderer,
			ytm-button-renderer.icon-avatar_logged_out,
			ytm-companion-slot,
			ytm-reel-shelf-renderer,
			ytm-merch-shelf-renderer,
			ytm-action-companion-ad-renderer,
			ytm-display-ad-renderer,
			ytm-rich-section-renderer,
			ytm-video-masthead-ad-advertiser-info-renderer,
			ytm-video-masthead-ad-primary-video-renderer,
			ytm-in-feed-ad-layout-renderer,
			ytm-ad-slot-renderer,
			ytm-statement-banner-renderer,
			ytm-banner-promo-renderer-background
			ytm-ad-slot-renderer,
			ytm-in-feed-ad-layout-renderer,
			ytm-compact-video-renderer:has(.goodTube_hidden),
			ytm-rich-item-renderer:has(> #content > ytm-ad-slot-renderer)
			.ytm-video-masthead-ad-v3-renderer,
			div#root.style-scope.ytm-display-ad-renderer.yt-simple-endpoint,
			div#sparkles-container.style-scope.ytm-promoted-sparkles-web-renderer,
			div#main-container.style-scope.ytm-promoted-video-renderer,
			div#player-ads.style-scope.ytm-watch-flexy,
			ytd-compact-movie-renderer,

			yt-about-this-ad-renderer,
			masthead-ad,
			ad-slot-renderer,
			yt-mealbar-promo-renderer,
			statement-banner-style-type-compact,
			ytm-promoted-sparkles-web-renderer,
			tp-yt-iron-overlay-backdrop,
			#masthead-ad,

			#offer-module
			 {
				display: none !important;
			}

			.style-scope[page-subtype='channels'] ytd-shelf-renderer,
			.style-scope[page-subtype='channels'] ytm-shelf-renderer {
				display: block !important;
			}
		`;if(console.log("[GoodTube] Ads removed"),e+=`
			body:not(.goodTube_fallback) #player:not(.ytd-shorts):not(.ytd-channel-video-player-renderer),
			body:not(.goodTube_fallback) #player-full-bleed-container {
				visibility: hidden !important;
			}
		`,e+=`
			ytd-miniplayer,
			.ytp-miniplayer-button {
				display: none !important;
			}
		`,xe==="false"?(e+=`
				ytm-pivot-bar-item-renderer:has(> .pivot-shorts),
				ytd-rich-section-renderer,
				grid-shelf-view-model {
					display: none !important;
				}
			`,console.log("[GoodTube] Shorts removed")):e+=`
				ytd-item-section-renderer[page-subtype='history'] ytd-reel-shelf-renderer {
					display: block !important;
				}
			`,rt==="true"&&(e+=`
				/* Hide suggested videos */
				ytd-watch-flexy #secondary #related {
					display: none !important;
				}

				/* Hide full sidebar if not playlist */
				ytd-watch-flexy #secondary:not(:has(ytd-playlist-panel-video-renderer)) {
					display: none !important;
				}
			`,console.log("[GoodTube] Suggested videos removed")),dt==="true"&&(e+=`
				ytd-item-section-renderer.ytd-comments,
				#comments-button,
				#shorts-panel-container ytd-engagement-panel-section-list-renderer {
					display: none !important;
				}
			`,console.log("[GoodTube] Comments removed")),lt==="true"&&(e+=`
				ytd-expandable-metadata-renderer[has-video-summary] {
					display: none !important;
				}
			`,console.log("[GoodTube] AI summaries removed")),We==="true"&&console.log("[GoodTube] Members only videos removed"),I!=="default"&&I==parseFloat(I)){console.log("[GoodTube] Videos per row on the home page set to "+I);let i=100/parseFloat(I)+"%";e+=`
				ytd-rich-item-renderer[rendered-from-rich-grid] {
					width: calc(`+i+" - ((var(--ytd-rich-grid-item-margin) / 2)) / "+parseFloat(I-1)+" * "+parseFloat(I-1)*2+` ) !important;
					width: calc(`+i+" - ((var(--ytd-rich-grid-item-margin) / 2)) / "+parseFloat(I-1)+" * "+parseFloat(I-1)*2+` ) !important;
					margin-left: calc(var(--ytd-rich-grid-item-margin) / 2) !important;
					margin-right: calc(var(--ytd-rich-grid-item-margin) / 2) !important;
				}

				#contents.ytd-rich-grid-renderer {
					padding-right: 24px !important;
					box-sizing: border-box !important;
				}
			`}let t=document.createElement("style");t.setAttribute("data-version","old"),t.textContent=e,document.head.appendChild(t)}function An(){if(a)return;document.querySelectorAll("ytd-rich-item-renderer:not(.goodTube_checked)").forEach(t=>{t.innerHTML.toLowerCase().indexOf("members only")!==-1&&K(t),t.classList.add("goodTube_checked")})}function En(){if(a||xe==="true")return;window.location.href.indexOf("/shorts")!==-1&&!Vo&&(window.location.href=window.location.href.replace("/shorts","/watch"),Vo=!0),document.querySelectorAll("a:not(.goodTube_hidden)").forEach(i=>{i.href.indexOf("shorts/")!==-1&&(K(i),K(i.closest("ytd-video-renderer")),K(i.closest("ytd-compact-video-renderer")),K(i.closest("ytd-rich-grid-media")))}),document.querySelectorAll("yt-chip-cloud-chip-renderer:not(.goodTube_hidden):not(.goodTube_checked), yt-tab-shape:not(.goodTube_hidden):not(.goodTube_checked), ytd-guide-entry-renderer:not(.goodTube_checked)").forEach(i=>{i.innerHTML.toLowerCase().indexOf("shorts")!==-1&&K(i),i.classList.add("goodTube_checked")})}function Sn(){if(a)return;document.querySelectorAll("#description a, ytd-comments .yt-core-attributed-string a, ytm-expandable-video-description-body-renderer a, .comment-content a").forEach(t=>{!t.classList.contains("goodTube_timestampLink")&&t.getAttribute("href")&&t.getAttribute("href").indexOf(M.v)!==-1&&(t.classList.add("goodTube_timestampLink"),t.addEventListener("click",function(){if(a)return;let i=0,n=t.getAttribute("href").split("t=");typeof n[1]<"u"&&(i=parseFloat(n[1].replace("s",""))),Qo(i)}))})}let ct=setTimeout(()=>{},0);function Kt(){if(a)return;if(xe==="true"&&window.location.href.indexOf("/shorts")!==-1){clearTimeout(ct),ct=setTimeout(Kt,100);return}document.querySelectorAll("video").forEach(t=>{h?!t.paused&&!t.closest("#movie_player")&&(t.muted=!0,t.volume=0,t.pause()):!t.paused&&!Qt&&t.closest("#movie_player")&&!t.closest("#inline_player")&&(t.muted=!0,t.volume=0,!Wt()||!t.closest("#movie_player")?(t.pause(),t.playbackRate=we):t.play())}),clearTimeout(ct),ct=setTimeout(Kt,100)}function In(){if(a)return;let e=document.querySelector("#movie_player .ytp-autonav-toggle-button");e&&(e.getAttribute("aria-checked")==="true"&&Z(e),xn=!0)}function Mn(){if(a)return;document.querySelectorAll("yt-confirm-dialog-renderer").forEach(t=>{if(t.innerHTML.indexOf("Video paused. Continue watching?")!==-1){let i=t.querySelector("#confirm-button");i&&Z(i)}})}function Cn(e,t){if(a||!e||!t)return;let i=document.querySelector("ytd-watch-flexy");i&&G()&&!h&&(i.style.setProperty("--ytd-watch-flexy-width-ratio",e),i.style.setProperty("--ytd-watch-flexy-height-ratio",t))}function Uo(){if(a)return;let e=document.querySelector("ytd-watch-flexy");e&&(e.style.removeProperty("--ytd-watch-flexy-width-ratio"),e.style.removeProperty("--ytd-watch-flexy-height-ratio"))}let Ho=setTimeout(()=>{},0);function Yo(){if(a)return;s=document.getElementById("movie_player");let e=!1;if(s&&typeof s.getVideoData=="function"&&(e=s.getVideoData()),!e){clearTimeout(Ho),Ho=setTimeout(Yo,100);return}let t="transparent";st==="true"&&(t="#000000");let i=document.createElement("style");i.setAttribute("data-version","old"),i.textContent=`
			/* Player wrapper */
			#goodTube_playerWrapper {
				border-radius: 12px;
				background: `+t+`;
				position: absolute;
				top: 0;
				left: 0;
				z-index: 999;
				overflow: hidden;
			}

			/* Theater mode */
			#goodTube_playerWrapper.goodTube_theater {
				border-radius: 0;
				background: #000000;
			}

			/* No black background on dark theme */
			html[darker-dark-theme][dark] #goodTube_playerWrapper {
				background: transparent;
			}

			/* Fix size of Youtube player (this has to do with us setting the aspect ratio inside "goodTube_youtube_setAspectRatio") */
			body:not(.goodTube_fallback) #primary.ytd-watch-flexy {
				max-width: calc(177.77777778vh - var(--ytd-watch-flexy-masthead-height) * 1.7777777778 - var(--ytd-margin-6x) * 1.7777777778 - var(--ytd-watch-flexy-space-below-player) * 1.7777777778) !important;
				min-width: calc(var(--ytd-watch-flexy-min-player-height) * 1.7777777778) !important;
			}
		`,document.head.appendChild(i);let n=document.createElement("div");n.setAttribute("data-version","old"),n.id="goodTube_playerWrapper",n.classList.add("goodTube_hidden"),document.body.appendChild(n);let r=document.createElement("iframe");r.setAttribute("data-version","old"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("frameborder","0"),r.setAttribute("scrolling","yes"),r.setAttribute("allow","accelerometer *; autoplay *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;"),r.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),r.setAttribute("allowfullscreen",!0),r.style.display="none",n.appendChild(r),r.contentWindow.location.replace("https://wikipedia.org/wiki/Bruce_Lee?goodTubeProxy=1"),le=n,D=r,ei(),setInterval(ei,100)}let Jt=!1;function Ln(){if(!a)if(h)Jt||(pt(!0),Jt=!0);else{Jt=!1;let e=document.querySelector("#player");if((!e||e.offsetHeight<=0)&&(e=document.querySelector("#ytd-player")),(!e||e.offsetHeight<=0)&&(e=document.querySelector(".player-size")),(!e||e.offsetHeight<=0)&&(e=document.querySelector(".html5-video-player")),(!e||e.offsetHeight<=0)&&(e=document.querySelector("#movie_player")),e&&e.offsetHeight>0){let t=e.getBoundingClientRect();le.style.top=t.top+window.scrollY+"px",le.style.left=t.left+window.scrollX+"px",le.style.width=e.offsetWidth+"px",le.style.height=e.offsetHeight+"px",nt(le)}}}function Dn(){if(a)return;let e=[],t=document.querySelectorAll(".playlist-items ytd-playlist-panel-video-renderer");t.forEach((i,n)=>{let r="",u=i.querySelector("#thumbnail");if(u){let m=u.getAttribute("href");if(m){let y=m.split("/watch?v=");y.length>=1&&(y=y[1].split("&"),y.length&&(r=y[0]))}}r&&(e.push(r),r===M.v&&(He=n))}),t.length||(He=0),se=e}let Go=setTimeout(()=>{},0);function Wo(){if(a)return;if(ue="",Rn(),!Fo){clearTimeout(Go),Go=setTimeout(Wo,100);return}let e=0;if(Qe==="false"&&typeof M.t<"u"&&(e=parseFloat(M.t.replace("s",""))),zo){G()||pt();let t="";e>0&&(t="&start="+e),D.contentWindow.postMessage("old_goodTube_src_https://www.youtube.com/embed/"+M.v+"?goodTubeEmbed=1&autoplay=1&goodTube_autoplay="+J+"&goodTube_playbackSpeed="+we+"&goodTube_hideInfoCards="+Ye+"&goodTube_hideEndScreen="+Ge+"&goodTube_instantPause="+ut+t,"*"),zo=!1}else D.contentWindow.postMessage("old_goodTube_load_"+M.v+"|||"+e,"*");Qe==="false"&&Xt(),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&mt()}let ft=setTimeout(()=>{},0);function Xt(){if(a)return;if(!jt){clearTimeout(ft),ft=setTimeout(Xt,100);return}s=document.getElementById("movie_player");let e=!1,t=!1;if(s&&typeof s.getVideoData=="function"&&typeof s.getCurrentTime=="function"&&(e=s.getVideoData(),t=e.video_id),!e||!t||t!==M.v){clearTimeout(ft),ft=setTimeout(Xt,100);return}let i=Math.floor(s.getCurrentTime());i>=10&&Qo(i,t)}function pt(e=!1){a||(Ue||(e?(s=document.getElementById("movie_player"),s&&typeof s.pauseVideo=="function"&&typeof s.mute=="function"&&(s.pauseVideo(),s.mute())):D.contentWindow.postMessage("old_goodTube_stopVideo","*")),K(le))}function Qo(e,t=""){a||D.contentWindow.postMessage("old_goodTube_skipTo_"+e+"|||"+t,"*")}function Rn(){a||D.contentWindow.postMessage("old_goodTube_pause","*")}let je=setTimeout(()=>{},0);function mt(){if(!a){if(!Zt||!jt){clearTimeout(je),je=setTimeout(mt,100);return}if(!h)D.contentWindow.postMessage("old_goodTube_play|||"+M.v,"*");else{s=document.getElementById("movie_player");let e=!1;if(s&&typeof s.getVideoData=="function"&&(e=s.getVideoData()),!e||M.v!==e.video_id){clearTimeout(je),je=setTimeout(mt,100);return}let t=document.querySelector("#movie_player video");if(t&&t.currentTime>=t.duration)return;s&&typeof s.playVideo=="function"&&setTimeout(()=>{s.playVideo()},100)}}}function On(){a||(se.length>0?D.contentWindow.postMessage("old_goodTube_prevButton_true","*"):D.contentWindow.postMessage("old_goodTube_prevButton_false","*"))}function Nn(){a||(document.addEventListener("keydown",jo,!0),document.addEventListener("keyup",jo,!0))}function jo(e){if(a||!G()||h)return;let t=[{key:">",code:!1,ctrl:!1,shift:!0,alt:!1},{key:"<",code:!1,ctrl:!1,shift:!0,alt:!1},{key:",",code:!1,ctrl:!1,shift:!1,alt:!1},{key:".",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"arrowleft",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"arrowright",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"j",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"l",code:!1,ctrl:!1,shift:!1,alt:!1},{key:" ",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"k",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"mediaplaypause",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"m",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"f",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"c",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"o",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"w",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"=",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"-",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"w",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"a",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"s",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"d",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"[",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"]",code:!1,ctrl:!1,shift:!1,alt:!1},{key:!1,code:"numpadadd",ctrl:!1,shift:!1,alt:!1},{key:!1,code:"numpadsubtract",ctrl:!1,shift:!1,alt:!1},{key:"0",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"1",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"2",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"3",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"4",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"5",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"6",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"7",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"8",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"9",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"i",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"arrowleft",code:!1,ctrl:!0,shift:!1,alt:!1},{key:"arrowright",code:!1,ctrl:!0,shift:!1,alt:!1}],i=e.key.toLowerCase(),n=e.code.toLowerCase(),r=e.ctrlKey;e.metaKey&&(r=e.metaKey);let u=e.shiftKey,m=e.altKey,y=!1;if(t.forEach(v=>{(i===v.key||n===v.code)&&r===v.ctrl&&u===v.shift&&m===v.alt&&(y=!0)}),y){let v=e.srcElement,k=!1,be=!1;if(v&&(typeof v.nodeName<"u"&&(k=v.nodeName.toLowerCase()),typeof v.getAttribute<"u"&&(be=v.getAttribute("id"))),!v||k.indexOf("input")===-1&&k.indexOf("label")===-1&&k.indexOf("select")===-1&&k.indexOf("textarea")===-1&&k.indexOf("fieldset")===-1&&k.indexOf("legend")===-1&&k.indexOf("datalist")===-1&&k.indexOf("output")===-1&&k.indexOf("option")===-1&&k.indexOf("optgroup")===-1&&be!=="contenteditable-root"){e.preventDefault(),e.stopImmediatePropagation();let ae=e.key,ge=e.keyCode;i==="mediaplaypause"&&(ae=" ",ge=32),D.contentWindow.postMessage("old_goodTube_shortcut_"+e.type+"_"+ae+"_"+ge+"_"+e.ctrlKey+"_"+e.metaKey+"_"+e.shiftKey+"_"+e.altKey,"*")}}}function $t(){a||(Bo("next"),console.log("[GoodTube] Playing next video..."))}function Pn(){a||(se.length>0&&He===0?(D.contentWindow.postMessage("old_goodTube_skipTo_0|||"+M.v,"*"),console.log("[GoodTube] Restarting video...")):(Bo("previous"),console.log("[GoodTube] Playing previous video...")))}function Bn(){a||(J==="true"||se.length>0&&He<se.length-1)&&$t()}function qn(){if(a)return;let e=!1;J==="true"?e=!0:se.length>0&&(e=!0,He===se.length-1&&(e=!1)),e?D.contentWindow.postMessage("old_goodTube_endScreen_hide","*"):D.contentWindow.postMessage("old_goodTube_endScreen_show","*")}function Vn(){if(a)return;let e=new Date,t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),n=new Date(t).toISOString().split("T")[0];V("goodTube_uniqueUserStat_"+n)||(fetch("https://jamenlyndon.com/_other/stats/users_daily.php",{referrerPolicy:"no-referrer"}),f("goodTube_uniqueUserStat_"+n,"true",2)),V("goodTube_uniqueUserStat")||(fetch("https://jamenlyndon.com/_other/stats/users_total.php",{referrerPolicy:"no-referrer"}),f("goodTube_uniqueUserStat","true"))}function zn(){a||fetch("https://jamenlyndon.com/_other/stats/videos.php",{referrerPolicy:"no-referrer"})}let Zo=!1,Ko=setTimeout(()=>{},0);function Jo(e=!1){a||(e||(window.top===window.self&&(console.log(`
==================================================
    ______                ________      __
   / ____/___  ____  ____/ /_  __/_  __/ /_  ___
  / / __/ __ \\/ __ \\/ __  / / / / / / / __ \\/ _ \\
 / /_/ / /_/ / /_/ / /_/ / / / / /_/ / /_/ /  __/
 \\____/\\____/\\____/\\____/ /_/  \\____/_____/\\___/

==================================================`),console.log("[GoodTube] Initiating...")),window.addEventListener("message",$o),Kt(),document.addEventListener("DOMContentLoaded",eo),(document.readyState==="interactive"||document.readyState==="complete")&&eo()),!document.body||!document.head?(clearTimeout(Ko),Ko=setTimeout(()=>{Jo(!0)},1)):eo())}function eo(){a||Zo||(Zo=!0,Yo(),Un(),Tn(),kn(),Hn(),Vn(),Nn(),Fn())}let Xo=setTimeout(()=>{},0);function $o(e){if(!a&&typeof e.data=="string")if(!document.body||!document.head?(clearTimeout(Xo),Xo=setTimeout(()=>{$o(e)},100)):e.data==="old_goodTube_proxyIframe_loaded"?Fo=!0:e.data==="old_goodTube_playerIframe_loaded"&&(jt=!0,D.style.display="block"),e.data.indexOf("old_goodTube_pip_")!==-1)e.data.replace("old_goodTube_pip_","")==="true"?Ue=!0:(Ue=!1,typeof M.v>"u"&&pt());else if(e.data.indexOf("old_goodTube_playbackSpeed_")!==-1)f("old_goodTube_playbackSpeed",e.data.replace("old_goodTube_playbackSpeed_","")),we=e.data.replace("old_goodTube_playbackSpeed_","");else if(e.data==="old_goodTube_prevVideo")Pn();else if(e.data==="old_goodTube_nextVideo")$t();else if(e.data==="old_goodTube_videoEnded")Bn();else if(e.data==="old_goodTube_theater"&&!document.fullscreenElement){let t=document.querySelector(".ytp-size-button");t&&Z(t)}else if(e.data==="old_goodTube_autoplay_false")f("goodTube_autoplay","false"),J="false";else if(e.data==="old_goodTube_autoplay_true")f("goodTube_autoplay","true"),J="true";else if(e.data.indexOf("old_goodTube_syncMainPlayer_")!==-1&&G()&&!h){let t=e.data.replace("old_goodTube_syncMainPlayer_","").split("|||"),i=t[0],n=t[1];if(s=document.getElementById("movie_player"),!s||typeof s.seekTo!="function"||typeof s.getVideoData!="function"||typeof s.pauseVideo!="function"||typeof s.playVideo!="function")return;let r=s.getVideoData();if(!r||r.video_id!==n)return;let u=document.querySelector("#movie_player video");if(u&&Math.floor(u.currentTime)!==Math.floor(i)&&!Wt()){Qt=!0;let m=Math.floor(parseFloat(i))-2;m>u.duration-2&&(m=u.duration-2),s.seekTo(m),s.playVideo(),s.mute(),s.setVolume(0),u.volume=0,u.muted=!0,setTimeout(()=>{s.pauseVideo(),Qt=!1},500)}}else if(e.data==="old_goodTube_fallback_enable")h=!0,document.body&&!document.body.classList.contains("goodTube_fallback")&&document.body.classList.add("goodTube_fallback"),Uo(),ni(),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&mt(),document.fullscreenElement&&(document.exitFullscreen(),window.setTimeout(()=>{let t=document.querySelector(".ytp-fullscreen-button");t&&Z(t)},100));else if(e.data==="old_goodTube_fallback_disable")h=!1,document.body&&document.body.classList.contains("goodTube_fallback")&&document.body.classList.remove("goodTube_fallback"),document.fullscreenElement&&(document.exitFullscreen(),window.setTimeout(()=>{D.contentWindow.postMessage("old_goodTube_fullscreen","*")},100));else if(e.data.indexOf("old_goodTube_syncAspectRatio_")!==-1)if(window.location.href.indexOf("/shorts")!==-1)Uo();else{let t=e.data.replace("old_goodTube_syncAspectRatio_","").split("_");Cn(t[0],t[1])}else e.data==="old_goodTube_cancelPlay"&&clearTimeout(je)}function ei(){if(a)return;let e=qo;e&&(e=e.split("#")[0],e=e.split("index=")[0]);let t=window.location.href;t&&(t=t.split("#")[0],t=t.split("index=")[0]),e!==t&&(M=Po(),G()?(Wo(),zn()):pt(),qo=window.location.href),G()?(Dn(),On(),qn(),Sn(),h||In(),Mn(),Ln(),Yn()):D.contentWindow.postMessage("old_goodTube_stopVideo","*"),En(),We==="true"&&An()}function Fn(){if(a)return;let e=document.createElement("div");e.setAttribute("data-version","old"),document.body.appendChild(e);let t=" checked";xe==="true"&&(t="");let i="";Ye==="true"&&(i=" checked");let n="";Ge==="true"&&(n=" checked");let r="";rt==="true"&&(r=" checked");let u="";dt==="true"&&(u=" checked");let m="";lt==="true"&&(m=" checked");let y="";We==="true"&&(y=" checked");let v="";Qe==="true"&&(v=" checked");let k="";st==="true"&&(k=" checked");let be="";ut==="true"&&(be=" checked");let ae="",ge="",_e="",re="",Tt="",vt="",xt="",wt="";ae==="default"?ae=" selected":I==="2"?ge=" selected":I==="3"?_e=" selected":I==="4"?re=" selected":I==="5"?Tt=" selected":I==="6"?vt=" selected":I==="7"?xt=" selected":I==="8"&&(wt=" selected"),at(e,`
			<!-- Menu Button
			==================================================================================================== -->
			<a href='javascript:;' class='goodTube_menuButton'>
				<div class='goodTube_notice'>GoodTube<br>UPDATE</div>
				<img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAZCAYAAABQDyyRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZBOUIxQTYzNDc0QjExRjA4OTZDRTk5QkFDRDUyNkFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZBOUIxQTY0NDc0QjExRjA4OTZDRTk5QkFDRDUyNkFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkE5QjFBNjE0NzRCMTFGMDg5NkNFOTlCQUNENTI2QUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkE5QjFBNjI0NzRCMTFGMDg5NkNFOTlCQUNENTI2QUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7jrX2zAAADr0lEQVR42qRWzW4TMRCe2W4QFyqkvkARyqFQCXU3W4S48gDwClXzxwM1TVJehRMcaLKukIBeSlW1EufCoRTlZ/B41+txNgktdRRls2OP5/vmm7GRiECOYb2Zv0D9Jaj1uwh3GKrZBhIeo17HswfyT9poU+1tGzbevIYgwDtvzkNvTgaJfppMxjRrD0SkhLzddArnHz7CLDP/O+JeBzGHkWhwSoNkoNYeGuRRnR43XsHDFxsA45EJm1cN6y0zsdbfRzvPeovSHt6ChTwBABPtPwgr4AXATun0TD/8MhM31tcB9FcpBVG3g2WHZXZU3CheyuAYbbVahYuLc4Dra0h2dkwsadSgWPUwtBE6p8QRzUWCiP9ASgVStwZgdfUBPN3cBPjyFaTABQO+o+Nvx3B1dWXy5yd0hVU8NwqLOm20PHqYwewdQhxHBUgLJrSLOb9n70+Balt6atVMYlolnZTrQLIxnZLnFGuhFxhTjckTzc4P+HmpS+Ly0rOHkl6mEJfk2hInU8HlKkVGQKUUANzXD4/g5PsEMD0xfmPVNxac3cSI6XkCNB7nnUkVG/LUuJn43gk87ajuoQhc2zWjBWPa12z14DxFM23GmOjFwyOIGttOW5zHorWh29y6UUeZ3QYTbxUg5pWuC6DbJ4cqe0y7A909tvSeoUPLiMhuTi4xNoD0qFB4mo4BGXVzG2Z9Q7OOngb8ruHKBOVCsymKShObSzbsM8r3YvOSCHsHZB2rdCRkRLKV5QiV+O8CdVFhQQzmQk7V2B1GcSWz856NXd2IDPUIg4FukQH37jZKQRIJBkgExVqQlDL1CI4pcvUQd9uiM3ZIHzeQJBWT9uws0KiTAzcJugdFUtnX4HBk/G5vux4Oh4Psd22tJMQ/v6eCQAQLEpq7aAFyIHEcao009khGKMXI6eAqgFqU9Qh0EimEaZENRzO1r+cOlFkb1yol8Zk1zQ4Fcxq+O8jJ14KXbVsVBMXpCQieQIt3pbJdVoZ6hVKjvI+3kU8zTCdFZ8QkKonZdlEzPg2L8sSX9yDa66DSSI2/qOJgLCpD1kMhRB0U4jNNoxVTC1mYONOmuYEjTY3v6PM7VK39zDwJjI+o6+d97lng17fXGECesmTpFpOzbASAgeslaOwsxpVyimluAARAi65VTqT2EFk2JOJS3mcPuKV3P12Oaa4HRhTpFNzkCpbmOWdAhnKh/IWX0gV3HODUeg3oBgPzD9wg3HCpVUdeg/6tr8cR9wgo1/288VeAAQAP+uu2vDbm2wAAAABJRU5ErkJggg%3D%3D'>
			</a> <!-- .goodTube_menuButton -->
			<a href='javascript:;' class='goodTube_menuClose'>&#10006;</a>


			<!-- Modal
			==================================================================================================== -->
			<div class='goodTube_modal'>
				<div class='goodTube_modal_overlay'></div>

				<div class='goodTube_modal_inner'>
					<a class='goodTube_modal_closeButton' href='javascript:;'>&#10006;</a>


					<div class='goodTube_title'>
						IMPORTANT UPDATE -<br>
						\u{1F389} GoodTube is now an official browser extension!!
					</div>
					<div class='goodTube_content'>
						<div class="goodTube_text">
							<strong>IMPORTANT: GoodTube is currently under threat / facing new issues.</strong><br>
							<br>
							Youtube are changing their interface yet again and new security policies have recently been added by Wikipedia (which this uses). The new extension is currently being updated to fix these problems, but unfortunately this old version may not continue to work for much longer as a result.<br>
							<br>
							Please update to the official extension as soon as possible. I am doing everything I can to keep it up and running. The Wikipedia issues have been fixed and I am now completely rebuilding the existing video player so we can keep it looking the same as it always has. It's not an easy task, but I'm going to release this as soon as possible. Thanks for your patience and support everyone.<br>
							<br>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Support for this version of GoodTube will end Jan 1st, 2026</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Please change over to using the official extension before support ends. Don't forget to remove this old version once you've swapped over.
									</div>
								</div>
							</div> 

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Does the extension remove the floating settings menu icon?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Yes it does! Making this an extension allows me to use a normal extension menu (hidden until you click on it at the top of your browser).<br>
										<br>
										With this older version, unfortunately I have no other way to provide a settings menu. Sorry it's been so annoying having it down the bottom all the time!
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>What are the new features?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										New features:<br>
										<ul class='goodTube_list'>
											<li>Automatically set video quality (highest, lowest or pick one)</li>
											<li>Remove "who's still listening in 2025" style comments (optional)</li>
											<li>Support for transcripts / chapters on the right-hand side of the video player</li>
											<li>Much faster loading speed (no more lag, far less bandwidth usage)</li>
											<li>Improved privacy and security</li>
											<li>Playlists properly supported in Firefox (no skipping, etc)</li>
											<li>Youtube Music is now supported</li>
										</ul>
										<br>
										Upcoming new features:<br>
										<ul class='goodTube_list'>
											<li>Always start in theater mode</li>
											<li>Remove all AI related stuff</li>
											<li>Fixed shuffle and loop functionality for playlists</li>
											<li>And more over time</li>
										</ul>
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Does the extension cost anything?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										The extension gives you a 7 day free trial. After that it costs $2, once only, for unlimited access on as many devices as you like.<br>
										<br>
										Please note that this existing free version is not being removed. You are welcome to continue to use it for as long as you like. Just remember that it is no longer being supported or updated.<br>
										<br>
										The decision to make this a paid extension has not come easily and I've tried to make it as cheap as possible. The priority remains keeping this adblocker available to <i>everyone</i>.<br>
										<br>
										With that in mind, I will give you free unlimited access:<br>
										<ul class='goodTube_list'>
											<li>If you cannot afford this due to your financial or political situation.</li>
											<li>If you're one of the amazing people who donated to this project previously (THANK YOU so much for your support!!)</li>
										</ul>
										<br>
										Please send an email to <a href='mailto:goodtube4u@gmail.com'>goodtube4u@gmail.com</a> to request free access.
									</div>
								</div>
							</div>
						</div>

						<div class='goodTube_buttons'>
							<a href='https://chromewebstore.google.com/detail/goodtube-adblock-for-yout/mnlobacbpcnaibnhmfcpdfllcipgnfhe' class='goodTube_button' target='_blank'>Download from the Chrome Web Store (for most browsers)</a><br>
							<br>
							<a href='https://addons.mozilla.org/en-US/firefox/addon/goodtube-adblock-for-youtube/' class='goodTube_button' target='_blank'>Download for Firefox</a>
						</div>
					</div> <!-- .goodTube_content -->


					<div class='goodTube_title'>Settings</div>
					<div class='goodTube_content'>

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_shorts' name='goodTube_option_shorts' id='goodTube_option_shorts'`+t+`>
							<label for='goodTube_option_shorts'>Remove all shorts from Youtube</label>
						</div> <!-- .goodTube_setting -->

							<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideInfoCards' name='goodTube_option_hideInfoCards' id='goodTube_option_hideInfoCards'`+i+`>
							<label for='goodTube_option_hideInfoCards'>Hide info cards from videos</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideEndScreen' name='goodTube_option_hideEndScreen' id='goodTube_option_hideEndScreen'`+n+`>
							<label for='goodTube_option_hideEndScreen'>Hide end screen suggested videos</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideSuggestedVideos' name='goodTube_option_hideSuggestedVideos' id='goodTube_option_hideSuggestedVideos'`+r+`>
							<label for='goodTube_option_hideSuggestedVideos'>Hide sidebar suggested videos</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideComments' name='goodTube_option_hideComments' id='goodTube_option_hideComments'`+u+`>
							<label for='goodTube_option_hideComments'>Hide comments</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideAiSummaries' name='goodTube_option_hideAiSummaries' id='goodTube_option_hideAiSummaries'`+m+`>
							<label for='goodTube_option_hideAiSummaries'>Hide AI summaries</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideMembersOnlyVideos' name='goodTube_option_hideMembersOnlyVideos' id='goodTube_option_hideMembersOnlyVideos'`+y+`>
							<label for='goodTube_option_hideMembersOnlyVideos'>Hide members only videos (paid channel restricted content)</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_alwaysStart' name='goodTube_option_alwaysStart' id='goodTube_option_alwaysStart'`+v+`>
							<label for='goodTube_option_alwaysStart'>Always play videos from the start</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_blackBackground' name='goodTube_option_blackBackground' id='goodTube_option_blackBackground'`+k+`>
							<label for='goodTube_option_blackBackground'>Use a black background for the video player</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_instantPause' name='goodTube_option_instantPause' id='goodTube_option_instantPause'`+be+`>
							<label for='goodTube_option_instantPause'>Enable instant pausing (this disables holding "space", "k" or "left mouse button" for 2x speed)</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<select class='goodTube_option_videosPerRow' name='goodTube_option_videosPerRow' id='goodTube_option_videosPerRow'>
								<option`+ae+`>Default</option>
								<option`+ge+`>2</option>
								<option`+_e+`>3</option>
								<option`+re+`>4</option>
								<option`+Tt+`>5</option>
								<option`+vt+`>6</option>
								<option`+xt+`>7</option>
								<option`+wt+`>8</option>
							</select>
							<label for='goodTube_option_videosPerRow'>Videos per row on the home page</label>
						</div> <!-- .goodTube_setting -->

						<button class='goodTube_button' id='goodTube_button_saveSettings'>Save and refresh</button>
					</div> <!-- .goodTube_content -->


					<div class='goodTube_title'>FAQs</div>
					<div class='goodTube_content'>
						<div class='goodTube_text'>
							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>How can I share this with friends?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										You can send them <a href='https://github.com/goodtube4u/goodtube' target='_blank'>this link</a>. It has all of the install instructions.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>I'm seeing a black square with no video</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Try uninstalling both Tampermonkey and GoodTube and then reinstalling them. Most of the time this will resolve the issue. If that doesn't work, you may have a conflicting extension. Try turning off your other extensions for a second, see if that works. Then turn them back on one at a time until you work out which one is causing the problem.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Playlists skip to the next video every few seconds</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										This is usually caused by another adblocker which Youtube is detecting. To fix this problem, first disable all of your other adblockers (for Youtube only, you can leave them on for other websites). Then clear your cookies and cache (this is important). Once that's done, refresh Youtube and the problem should be fixed.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>I can't use the miniplayer</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										The Youtube miniplayer is not supported. Instead this uses "Picture in Picture" mode, which is the new standard for the web.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Transcripts are not working</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Unfortunately transcripts are currently not supported. I'm working on this, hang tight. Hopefully these will be added soon!
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Is this compatible with other Youtube extensions?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Probably not if they change the main video player, but otherwise they should work fine.<br>
										<br>
										This heavily modifies how Youtube works in order to block ads. A key part of this is replacing the default Youtube player with their "embedded" player. This means that unless your extension also works for embedded Youtube videos (like where you view a Youtube video on another website), it generally won't be compatible.<br>
										<br>
										Unfortunately there's not much I can do to support these extensions as a result.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>I'm having a different problem</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										If you're having a different issue, most of the time you will find it's caused by a conflicting extension you have installed.<br>
										<br>
										To test this, first turn off all other extensions you have installed. Leave only GoodTube enabled.<br>
										<br>
										Then refresh Youtube and check if the problem is fixed. If it is, then you know one of them is causing the issue. Turn your other extensions back on one at a time until you find the problem.
									</div>
								</div>
							</div>
						</div>
					</div> <!-- .goodTube_content -->


					<div class='goodTube_title'>Report an issue</div>
					<div class='goodTube_content'>
						<div class='goodTube_text goodTube_successText'>Your message has been sent successfully.</div>
						<form class='goodTube_report' onSubmit='javascript:;'>
							<div class='goodTube_text'>
								I am dedicated to helping every single person get this working. Everyone is important and if you have any problems at all, please let me know. I will respond and do my best to help!<br>
								<br>
								<i>* Please read the FAQs above before reporting an issue.</i>
							</div>
							<input class='goodTube_reportEmail' type='email' placeholder='Email address' required>
							<textarea class='goodTube_reportText' placeholder='Enter your message here...\r\rPlease note - most reported issues are caused by a conflicting extension. Please first try turning off all of your other extensions. Refresh Youtube, check if the problem is fixed. If it is, then you know something is conflicting. Turn your other extensions back on one at a time until you find the cause. Please try this first before reporting an issue!' required></textarea>
							<input type='submit' class='goodTube_button' id='goodTube_button_submitReport' value='Submit'>
						</form> <!-- .goodTube_report -->
					</div> <!-- .goodTube_content -->


				</div> <!-- .goodTube_modal_inner -->
			</div> <!-- .goodTube_modal -->
		`);let de=document.createElement("style");de.setAttribute("data-version","old"),de.textContent=`
			/* Menu button
			---------------------------------------------------------------------------------------------------- */
			.goodTube_menuButton {
				display: block;
				position: fixed;
				bottom: 26px;
				right: 21px;
				background: #0f0f0f;
				border-radius: 9999px;
				box-shadow: 0 0 10px rgba(0, 0, 0, .5);
				width: 48px;
				height: 48px;
				z-index: 999;
				transition: background .2s linear, opacity .2s linear, box-shadow .2s linear;
				opacity: 1;
				cursor: pointer;
			}

			.goodTube_menuButton .goodTube_notice {
				background: #e84a82;
				color: #ffffff;
				font-size: 11px;
				font-weight: 500;
				padding-left: 8px;
				padding-right: 8px;
				padding-top: 4px;
				padding-bottom: 4px;
				border-radius: 4px;
				position: absolute;
				bottom: -14px;
				left: -10px;
				text-align: center;
				z-index: 1;
			}

			.goodTube_menuButton img {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				pointer-events: none;
				width: 26px;
			}

			.goodTube_menuButton::before {
				content: 'Settings';
				background: rgba(0, 0, 0, .9);
				border-radius: 4px;
				color: #ffffff;
				font-size: 10px;
				font-weight: 700;
				text-transform: uppercase;
				padding-top: 4px;
				padding-bottom: 4px;
				padding-left: 8px;
				padding-right: 8px;
				position: absolute;
				left: 50%;
				top: -26px;
				transform: translateX(-50%);
				letter-spacing: 0.04em;
				opacity: 0;
				transition: opacity .2s ease-in-out, top .2s ease-in-out;
				pointer-events: none;
				text-decoration: none;
			}

			.goodTube_menuButton::after {
				content: '';
				position: absolute;
				top: -6px;
				left: 50%;
				transform: translateX(-50%);
				width: 0;
				height: 0;
				border-left: 5px solid transparent;
				border-right: 5px solid transparent;
				border-top: 5px solid rgba(0, 0, 0, .9);
				opacity: 0;
				transition: opacity .2s ease-in-out, top .2s ease-in-out;
				pointer-events: none;
				text-decoration: none;
			}

			.goodTube_menuButton:hover {
				background: #252525;
				box-shadow: 0 0 12px rgba(0, 0, 0, .5);
			}

			.goodTube_menuButton:hover::before,
			.goodTube_menuButton:hover::after {
				opacity: 1;
			}

			.goodTube_menuButton:hover::before {
				top: -29px;
			}

			.goodTube_menuButton:hover::after {
				top: -9px;
			}

			.goodTube_menuClose {
				display: block;
				position: fixed;
				bottom: 60px;
				right: 16px;
				width: 14px;
				height: 14px;
				background: #ffffff;
				color: #000000;
				font-size: 9px;
				font-weight: 700;
				border-radius: 999px;
				text-align: center;
				line-height: 13px;
				z-index: 9999;
				box-shadow: 0 0 4px rgba(0, 0, 0, .5);
				opacity: 1;
				text-decoration: none;
				cursor: pointer;
			}


			/* Modal container
			---------------------------------------------------------------------------------------------------- */
			.goodTube_modal {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				z-index: 9999;
				opacity: 0;
				transition: opacity .2s linear;
				pointer-events: none;
				backface-visibility: hidden;
				min-width: 320px;
			}
			.goodTube_modal:not(.visible) .goodTube_button {
				pointer-events: none;
			}

			.goodTube_modal.visible {
				pointer-events: all;
				opacity: 1;
			}
			.goodTube_modal.visible .goodTube_button {
				pointer-events: all;
			}

			.goodTube_modal * {
				box-sizing: border-box;
				padding: 0;
				margin: 0;
			}

			.goodTube_modal .goodTube_modal_overlay {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				z-index: 1;
				background: rgba(0,0,0,.8);
			}

			.goodTube_modal .goodTube_modal_inner {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(round(-50%, 1px), round(-50%, 1px));
				width: 780px;
				max-width: calc(100% - 32px);
				max-height: calc(100% - 32px);
				z-index: 2;
				background: #ffffff;
				border-radius: 12px;
				box-shadow: 0 0 24px rgba(0, 0, 0, .5);
				font-family: Roboto, Arial, sans-serif;
				padding: 24px;
				overflow: auto;
			}

			.goodTube_modal .goodTube_modal_inner .goodTube_modal_closeButton {
				position: absolute;
				top: 17px;
				right: 12px;
				color: #333;
				font-size: 20px;
				font-weight: 400;
				text-decoration: none;
				width: 40px;
				height: 40px;
				background: #ffffff;
				border-radius: 9999px;
				text-align: center;
				line-height: 40px;
				transition: background .2s linear;
				cursor: pointer;
			}

			.goodTube_modal .goodTube_modal_inner .goodTube_modal_closeButton:hover {
				background: #dddddd;
			}


			/* Modal inner
			---------------------------------------------------------------------------------------------------- */
			.goodTube_modal .goodTube_title {
				font-weight: 700;
				font-size: 22px;
				padding-bottom: 16px;
				line-height: 32px;
			}

			.goodTube_modal .goodTube_content {
				margin-bottom: 48px;

				&:last-child {
					margin-bottom: 0;
				}
			}

			.goodTube_modal .goodTube_content .goodTube_setting {
				display: flex;
				gap: 12px;
				align-items: center;
				margin-bottom: 16px;
			}

			.goodTube_modal .goodTube_content .goodTube_setting input {
				width: 24px;
				height: 24px;
				min-width: 24px;
				min-height: 24px;
				border-radius: 4px;
				border: 1px solid #333;
				overflow: hidden;
				cursor: pointer;
			}

			.goodTube_modal .goodTube_content .goodTube_setting select {
				border-radius: 4px;
				border: 1px solid #999;
				width: 100%;
				font-size: 14px;
				color: #000000;
				padding-top: 8px;
				padding-bottom: 8px;
				padding-left: 8px;
				padding-right: 16px;
				font-family: Roboto, Arial, sans-serif;
				transition: border .2s linear;
				width: 96px;
				min-width: 96px;
				font-weight: 400;
			}

			.goodTube_modal .goodTube_content .goodTube_setting select {
				border: 1px solid #333;
			}

			.goodTube_modal .goodTube_content .goodTube_setting label {
				font-size: 15px;
				color: #000000;
				font-weight: 500;
				cursor: pointer;
			}

			.goodTube_modal .goodTube_buttons {
				margin-bottom: 24px;
			}

			.goodTube_modal .goodTube_list {
				list-style-type: disc;
				list-style-position: inside;
				margin-top: 8px;
				width: 100%;
				margin-left: 16px;

				li {
					margin-bottom: 8px;

					&:last-child {
						margin-bottom: 0;
					}
				}
			}

			.goodTube_modal .goodTube_button {
				all: initial;
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				display: inline-block;
				background: #e84a82;
				color: #ffffff;
				text-align: center;
				font-size: 15px;
				font-weight: 700;
				padding-top: 12px;
				padding-bottom: 12px;
				padding-left: 18px;
				padding-right: 18px;
				letter-spacing: 0.024em;
				border-radius: 4px;
				font-family: Roboto, Arial, sans-serif;
				cursor: pointer;
				transition: background .2s linear;
			}

			.goodTube_modal .goodTube_button:hover {
				background: #fa5b93;
			}

			.goodTube_modal .goodTube_heart {
				color: #e01b6a;
				font-size: 24px;
			}

			.goodTube_modal .goodTube_text {
				display: block;
				font-size: 15px;
				padding-bottom: 16px;
				line-height: 130%;
			}

			.goodTube_modal .goodTube_text:last-child {
				padding-bottom: 0;
			}

			.goodTube_modal .goodTube_text a {
				color: #e84a82;
				text-decoration: underline;
			}

			.goodTube_modal .goodTube_report {
			}

			.goodTube_modal .goodTube_successText {
				font-size: 15px;
				padding-bottom: 16px;
				line-height: 130%;
				display: none;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button),
			.goodTube_modal .goodTube_report textarea {
				border-radius: 4px;
				border: 1px solid #999;
				width: 100%;
				font-size: 14px;
				color: #000000;
				padding-top: 12px;
				padding-bottom: 12px;
				padding-left: 16px;
				padding-right: 16px;
				font-family: Roboto, Arial, sans-serif;
				transition: border .2s linear;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button)::placeholder,
			.goodTube_modal .goodTube_report textarea::placeholder {
				color: #666666;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button):focus,
			.goodTube_modal .goodTube_report textarea:focus {
				border: 1px solid #333;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button) {
				margin-bottom: 12px;
			}

			.goodTube_modal .goodTube_report textarea {
				margin-bottom: 16px;
				height: 128px;
			}



			.goodTube_modal_faq {
				display: flex;
				flex-wrap: wrap;
				width: 100%;
				padding-right: 8px;
				border-bottom: 1px solid #eeeeee;

				&:first-child {
					border-top: 1px solid #eeeeee;
				}

				/* Question */
				.goodTube_modal_question {
					display: flex;
					flex-wrap: nowrap;
					gap: 16px;
					width: 100%;
					padding-top: 16px;
					padding-bottom: 16px;
					transition: color .2s linear;
					cursor: pointer;

					.goodTube_modal_question_text {
						width: 100%;
						font-weight: 700;
					}

					.goodTube_modal_question_arrow {
						position: relative;
						top: 4px;
						transform: rotate(45deg);
						box-sizing: border-box;
						width: 8px;
						height: 8px;
						border-color: #808080;
						border-style: solid;
						border-width: 0px 2px 2px 0px;
						transition: transform .2s ease, top .2s ease, border-color .2s linear;
					}

					&:hover {
						color: #e84a82;

						.goodTube_modal_question_arrow {
							border-color: #e84a82;
						}
					}
				}

				/* Answer */
				.goodTube_modal_answer {
					display: grid;
					grid-template-rows: 0fr;
					margin-top: -4px;
					transition: grid-template-rows .4s ease;

					.goodTube_modal_answerInner {
						overflow: hidden;
						padding-bottom: 0;
						opacity: 0;
						transition: opacity .4s ease, padding-bottom .4s ease;
					}
				}

				/* Open State */
				&[data-open="true"] {
					.goodTube_modal_question {
						.goodTube_modal_question_arrow {
							top: 7px;
							transform: rotate(225deg);
						}
					}

					.goodTube_modal_answer {
						grid-template-rows: 1fr;

						.goodTube_modal_answerInner {
							padding-bottom: 20px;
							opacity: 1;
						}
					}
				}
			}


		`,document.head.appendChild(de);let E=document.querySelector(".goodTube_menuButton"),te=document.querySelector(".goodTube_menuClose");te&&te.addEventListener("click",()=>{a||(E.remove(),te.remove())});let z=document.querySelector(".goodTube_modal"),kt=document.querySelector(".goodTube_modal .goodTube_modal_overlay"),At=document.querySelector(".goodTube_modal .goodTube_modal_closeButton");E&&E.addEventListener("click",()=>{if(!a&&z){let P=document.querySelector(".goodTube_report");P&&(P.style.display="block");let F=document.querySelector(".goodTube_successText");F&&(F.style.display="none");let U=document.querySelector(".goodTube_reportEmail");U&&(U.value="");let $=document.querySelector(".goodTube_reportText");$&&($.value=""),z.classList.add("visible")}}),kt&&kt.addEventListener("click",()=>{a||z&&z.classList.contains("visible")&&z.classList.remove("visible")}),At&&At.addEventListener("click",()=>{a||z&&z.classList.contains("visible")&&z.classList.remove("visible")}),document.addEventListener("keydown",P=>{a||P.key.toLowerCase()==="escape"&&z&&z.classList.contains("visible")&&z.classList.remove("visible")});let Et=document.getElementById("goodTube_button_saveSettings");Et&&Et.addEventListener("click",()=>{if(a)return;let P=document.querySelector(".goodTube_option_shorts");P&&(P.checked?f("goodTube_shorts","false"):f("goodTube_shorts","true"));let F=document.querySelector(".goodTube_option_hideInfoCards");F&&(F.checked?f("goodTube_hideInfoCards","true"):f("goodTube_hideInfoCards","false"));let U=document.querySelector(".goodTube_option_hideEndScreen");U&&(U.checked?f("goodTube_hideEndScreen","true"):f("goodTube_hideEndScreen","false"));let $=document.querySelector(".goodTube_option_hideSuggestedVideos");$&&($.checked?f("goodTube_hideSuggestedVideos","true"):f("goodTube_hideSuggestedVideos","false"));let St=document.querySelector(".goodTube_option_hideComments");St&&(St.checked?f("goodTube_hideComments","true"):f("goodTube_hideComments","false"));let Ze=document.querySelector(".goodTube_option_hideAiSummaries");Ze&&(Ze.checked?f("goodTube_hideAiSummaries","true"):f("goodTube_hideAiSummaries","false"));let It=document.querySelector(".goodTube_option_hideMembersOnlyVideos");It&&(It.checked?f("goodTube_hideMembersOnlyVideos","true"):f("goodTube_hideMembersOnlyVideos","false"));let Ke=document.querySelector(".goodTube_option_alwaysStart");Ke&&(Ke.checked?f("goodTube_alwaysStart","true"):f("goodTube_alwaysStart","false"));let x=document.querySelector(".goodTube_option_blackBackground");x&&(x.checked?f("goodTube_blackBackground","true"):f("goodTube_blackBackground","false"));let Je=document.querySelector(".goodTube_option_instantPause");Je&&(Je.checked?f("goodTube_instantPause","true"):f("goodTube_instantPause","false"));let A=document.querySelector(".goodTube_option_videosPerRow");A&&f("goodTube_videosPerRow",A.value.toString().toLowerCase()),window.location.href=window.location.href}),document.querySelectorAll(".goodTube_modal_question").forEach(P=>{P.addEventListener("click",F=>{if(a)return;let U=F.currentTarget.closest(".goodTube_modal_faq");U.getAttribute("data-open")==="true"?U.setAttribute("data-open","false"):(document.querySelector('.goodTube_modal_faq[data-open="true"]')?.setAttribute("data-open","false"),U.setAttribute("data-open","true"))})});let S=document.querySelector(".goodTube_report"),Me=document.querySelector(".goodTube_successText");S&&Me&&S.addEventListener("submit",P=>{if(a)return;P.preventDefault(),P.stopImmediatePropagation();let F={email:document.querySelector(".goodTube_reportEmail")?.value,message:document.querySelector(".goodTube_reportText")?.value},U={method:"POST",body:JSON.stringify(F),headers:{"Content-Type":"application/json; charset=UTF-8"},referrerPolicy:"no-referrer"};fetch("https://jamenlyndon.com/_other/stats/mail.php",U).then($=>$.text()).then($=>{S.style.display="none",Me.style.display="block"})})}function Un(){a||(window.addEventListener("focus",()=>{a||(Zt=!0)}),window.addEventListener("blur",()=>{a||(Zt=!1)}))}function Hn(){if(a)return;let e=document.createElement("style");e.setAttribute("data-version","old");let t=`
			.ytp-skip-ad-button {
				bottom: 48px !important;
				right: 32px !important;
				background: rgba(255, 255, 255, .175) !important;
				opacity: 1 !important;
				transition: background .1s linear !important;
			}

			.ytp-skip-ad-button:hover,
			.ytp-skip-ad-button:focus {
				background: rgba(255, 255, 255, .225) !important;
			}

			.ytp-ad-player-overlay-layout__player-card-container {
				display: none !important;
			}

			.ytp-ad-player-overlay-layout__ad-info-container {
				display: none !important;
			}

			.ytp-chrome-top {
				display: none !important;
			}

			#goodTube_hideMuteAdsOverlay {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: #000000;
				z-index: 851;
				padding: 48px;
				display: flex;
				align-items: center;
				justify-content: center;

				.goodTube_overlay_inner {
					display: flex;
					align-items: flex-start;
					gap: 24px;
					max-width: 560px;

					img {
						width: 64px;
						height: 50px;
						min-width: 64px;
						min-height: 50px;
					}

					.goodTube_overlay_textContainer {
						font-family: Roboto, Arial, sans-serif;
						margin-top: -9px;

						.goodTube_overlay_textContainer_title {
							font-size: 24px;
							font-weight: 700;
						}

						.goodTube_overlay_textContainer_text {
							font-size: 17px;
							font-style: italic;
							padding-top: 8px;
						}
					}
				}
			}
		`;navigator.userAgent.toLowerCase().indexOf("firefox")===-1&&(t+=`
				.ytp-pip-button {
					display: inline-block !important;
				}
			`),Ye==="true"&&(t+=`
				.ytp-ce-covering-overlay,
				.ytp-ce-element {
					display: none !important;
				}
			`),Ge==="true"&&(t+=`
				.ytp-videowall-still {
					display: none !important;
				}
			`),e.textContent=t,document.head.appendChild(e);function i(n){if(!G()||ue!=="enabled"||n.ctrlKey||n.altKey||n.metaKey)return;let r=n.key.toLowerCase(),u=n.srcElement,m=!1,y=!1;u&&(typeof u.nodeName<"u"&&(m=u.nodeName.toLowerCase()),typeof u.getAttribute<"u"&&(y=u.getAttribute("id"))),(!u||m.indexOf("input")===-1&&m.indexOf("label")===-1&&m.indexOf("select")===-1&&m.indexOf("textarea")===-1&&m.indexOf("fieldset")===-1&&m.indexOf("legend")===-1&&m.indexOf("datalist")===-1&&m.indexOf("output")===-1&&m.indexOf("option")===-1&&m.indexOf("optgroup")===-1&&y!=="contenteditable-root")&&(r===" "||r==="k"||r==="m"||r==="i")&&(n.preventDefault(),n.stopImmediatePropagation())}document.addEventListener("keydown",i,!0),document.addEventListener("keypress",i,!0),document.addEventListener("keyup",i,!0),oi()}function Yn(){a||(h&&G()?Wt()?Gn():Wn():ue="")}let ue="";function Gn(){if(a)return;let e=document.getElementById("goodTube_hideMuteAdsOverlay");if(ue==="enabled"&&e)return;let t=document.querySelector("#movie_player video");t&&(t.muted=!0,t.volume=0,K(t));let i=document.querySelector(".ytp-chrome-bottom");i&&K(i);let n=document.getElementById("movie_player");n&&(n.style.pointerEvents="none");let r=document.querySelector(".ytp-caption-window-container");if(n&&K(r),!e){let u=document.createElement("div");u.setAttribute("data-version","old"),u.setAttribute("id","goodTube_hideMuteAdsOverlay"),at(u,`
				<div class='goodTube_overlay_inner' data-version='old'>
					<img src='data:image/gif;base64,R0lGODlhQAAyANU4AM1ml//MzcxlaP/LzM1maMxlZ//MzM1laMtkZspjlstkZ//Exe94ie10h8swZMwuYv+oqv+Vl/iQmdRtb8xldcphY81nl81paMpiZP/DxdZ5e80vY81pmtZ4es0wY/CImdZvcswuYf/Oz81mmfS1ts0xZM1mj8swY8xml++XqPGKjf/Q0ctklslilu51iMwxZcxmls1mlswxZP+Ym/+Zm8xlls0yZf+Ymv///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAzIDc5Ljk2OTBhODdmYywgMjAyNS8wMy8wNi0yMDo1MDoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI2LjkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIwRkZBNzNFQkI3RjExRjA4OTVBRDJBREJCNDlGMkY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIwRkZBNzNGQkI3RjExRjA4OTVBRDJBREJCNDlGMkY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjBGRkE3M0NCQjdGMTFGMDg5NUFEMkFEQkI0OUYyRjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjBGRkE3M0RCQjdGMTFGMDg5NUFEMkFEQkI0OUYyRjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJEQA4ACwAAAAAQAAyAAAG/0CccEgsGo/I5BCBUCiYTKV0SlUynVBEVYjBFAqCsGBLHhIIJJJIFK52v+JxmXxOr9vJ8OEQCHzPc3NfGhp9Z4BHenx+BYiBW4OFAYcESGEVFX1xj0I2njYyMkROTmcdHQYGKyspKaFGl5kBm5yfoKJDpAqmqKqsrrhCLy8LCxkZxRMTKip4RLaeSKGer0VnN9g3MzPYLi7RQ8PFx8nLzXLP0NIy1MFmBNna3Dfe4EKh2/E0NNiO4S/TbKyzZeTMvn3xGjQYRgTfPGwIb/gTBpCdwCMB7b07yC+bQoZDPMXDFuYLEpNb9lgSAAJEwgYaRY4sWeBkzZQHVrZ8GdMGg/+fDD58oEDBhAmQRPaEOnHCgVMHtkKFchbSRo0aAADAgNHOiCegQYcWPfrCiFIZTJ9C/SRVBtVOVrFq5XprYNytWTUK+TKs7wtobGWoLBLqatYYMQLavYoXgF4cfP3+BXxrcEMZhgEgVizFU9arV4e19RRx27aI8YZFxQyaA4fHSjwDAF1DtFTSHU3PQJ1NdWDarmF3vnUVN0QaA5IPSNWnj/IBfThu84TY76N2xW1E3PecefPn0Q9Ot1G9bxV9HbGVKHE13rbuBvp4T57qdMetw9DHQ6I/2/r22bynnHfzLWeAfdjg90J/2PA3Uj43eLIVR9g0FwB98VnY3HY0lIf/DYT7HTGSPNhICAOFN1iIoYYbdrSPhySOZMQ+9iG21VahIEajbqa599ANKGKzmQw3wqAjDfYRseOLMRSZYww78vgjiEAeFM+QRR6ZJA4fzpBAAlcZEcpWxx0nYHLODeDjcdkZcdWXVG7zZZiEEQlDmVWeCd2FagY4zz5tFvFmAlTSSQSEw1wlwaISjAjBoxBEIGkEPrbQwpeIybSNmzXEY+gQiL6gKKOOQjoppX5aimkMms7AaYIwGIHeVU8iRttVHEW01VW2ykUdlOndYESRsmYDaA21xnBrDbneBwOvyvpKHrAhEkFsEbxtJZuNN2bVZY3R7lpDpnGhN+yNMwar9q0NhzXZLQDf7tZhuM+Oy2q5xtJwLhE+IoaYEBdc8MADIYQwMG2fLWtvRjbg4W8MVDrY5cMAC0ywwQ8gPJvCQ9risL8Ri5jNp9iMMAIKKFhggRAbbOCBB7aN9okQWdUMr7BDANigyNiQfIPJKKvMssswVyQzODZ7i7MQOi9dhH0+2/wvDp74Jtlk1YiL2M5MM4ukq0dAXQO/N0gdA1xWS9YVDlrHwDUOuH4t8Q2fHsvJEVs73fTcddPw6d1C5E3E3mX0XMO1c2RV5KaAk80YuoEofiPjjQsBq82P9MoCC283fnnNmUe7eeeV+/jIiJXzLM/pMm4RBAAh+QQFFAA4ACwAAAAAQAAyAAAG/0CccChEGBEKhZHIbDqf0KjziFQipNisligQiEQkEoGwLQ+73UIBg9F2v+Gx2YwWqNnY8TgQ0GjUc3NjanwHB11PegR8foCBZYMFhYcCTTIyKSkrKwYGHR1jSUlElzamNo9CdXwVFYhMl5mbnZ+hoqQyp6ipqwGtr0SmLi43NzMzxcVysLk2l0+6pk1dKioTEwsLGRnZLy/BNsPFx8k3y7imz07Ru1wC1dfZ293fQ94NDeU0+zTnQ7rqmqST4a3JmGL7yh0LiONevmT8+pFhAlAGNGcE6xE5eCNhsoUW/9nAVw4ECGBMDJVx1ERNl3LFpIkkmcwkSiIqt7Bk4lIAzP8bMtHZgAEDAIAaNYKeEXCp1CkHUB2cOHEpJxFvJkxQoPDhA4OvDJQKcUrUKFKxOLo0bWYqqlSqMqzae5F1a1ewYduJvBQjhtkaDIUYcsrOm+EXO4WYMkr0LMaLfP0eBRwS5wHC0Q57S4xjMYDGSR9LMcWBA1KkmL393HeMXEcaAy95O13DKNoopE2fTv1iNY3WyF7Hzkjbtl4th/uaOhaRz4DnA/jw6QR9gMd9plA3e5Q8xvIZzQNUlx6AOvTrsG1ov+1EH41y3ogi/D3D/HQD96u7Loa0RAn35TwBYDLxwTDfMfaVh5+C+gXHXw3+DViMgDC55k1f6JFHXoJ8zLf/D1GmjONgMhQqFNyFMWSoYX7RSechDSDaIOJPTbAGHg19EUVUZO55NONHwLW2T1+X6AgDhvTtQ4SNQ8ZgJI8Q8WOiiUHeSKQMRiLJHA1CiJhAAkgJpF4NHu13w3POQbflfMXsWNkQSH1p5jFfhknRmGWOiKZ4at7I5g1uNhFnAmbaSYRrpvT1ZQstmBnBoxFAICkEP0lgqQRIqWbMDILWUI6hQyBqg6IJMOoopJNSCtOlmNag6TGdtglDE+4pZ8NffSEl32sR0YZUX1ci5eMNTRhJa5S24hqDrgbyyo+vNQAbwyXCvkciE8YyMaxjudYAmpatFcOYjn0Zt+t8xepY96O1Dya6rLcw/Joifa6NS1S5AJhy7mvpEmGitKoIUFG30P6F1AMPhBACwhdcIIS0Zpa4KcBpCXxKZNAiZXANCCvMsMM4QDyixKCKa9TJil28VkYeeLDBBkJYYAEKKIwwwoRwenrtsQ/6e8PJKHem8lretPxyzDPXfDOxOQfoxJYl39AtUWM1o9kLpngjE75G4SxEtbA+fWPUU8+Kg1NXZ431LlwD4DUOYHPaXjJkx5CKE9USgZTTPN9Q992dKtn0zlscY6RRjxi5N9OAhzrD4QAkruPijfvMAgvyPgL0rpUPUczlmQeyebOd+8y3GRGXbjrhZaSuRRAAOw%3D%3D'>
					<div class='goodTube_overlay_textContainer'>
						<div class='goodTube_overlay_textContainer_title'>Sorry, we can't remove the ads from this video but we can hide and mute them!</div>
						<div class='goodTube_overlay_textContainer_text'>Hang tight. Click the skip button if it appears to speed things up.</div>
					</div>
				</div>
			`);let m=document.querySelector(".ytp-ad-player-overlay-layout");m&&m.prepend(u)}to(!0),ue="enabled"}function Wn(){if(a||ue==="disabled")return;let e=document.querySelector("#movie_player video");e&&(e.playbackRate=we,s=document.getElementById("movie_player"),s&&typeof s.unMute=="function"&&typeof s.setVolume=="function"&&typeof s.getVolume=="function"&&(e.volume<=0||e.muted||s.getVolume()===0)&&(e.muted=!1,e.volume=1,s.unMute(),s.setVolume(100)),nt(e));let t=document.querySelector(".ytp-chrome-bottom");t&&nt(t);let i=document.getElementById("movie_player");i&&(i.style.pointerEvents="auto");let n=document.querySelector(".ytp-caption-window-container");i&&nt(n);let r=document.getElementById("goodTube_hideMuteAdsOverlay");r&&r.remove(),to(),ue="disabled"}let ti=setTimeout(()=>{},0);function oi(){if(a)return;let e=document.querySelector("#movie_player .ytp-autonav-toggle-button");e?e.addEventListener("click",()=>{if(a)return;let t="true";e.getAttribute("aria-checked")==="true"&&(t="false"),f("goodTube_autoplay",t),D.contentWindow.postMessage("old_goodTube_autoplay_"+t,"*")}):(clearTimeout(ti),ti=setTimeout(oi,100))}let ii=setTimeout(()=>{},0);function ni(){if(a)return;let e=document.querySelector("#movie_player .ytp-autonav-toggle-button");e&&e.checkVisibility()?e.getAttribute("aria-checked")!==J&&Z(e):(clearTimeout(ii),ii=setTimeout(ni,100))}let ai=setTimeout(()=>{},0);function to(e=!1){if(!a&&!(!h||!G())&&(s=document.getElementById("movie_player"),s&&typeof s.playVideo=="function"&&typeof s.mute=="function"&&typeof s.setVolume=="function")){let t=document.querySelector("#movie_player video");if(s.playVideo(),e&&(s.mute(),s.setVolume(0)),t){e&&(t.muted=!0,t.volume=0);let i=t.currentTime;clearTimeout(ai),ai=setTimeout(()=>{t.currentTime===i&&to()},100)}}}let ri=!1,di=setTimeout(()=>{},0);function li(e=!1){a||(e||(window.addEventListener("message",_t),document.addEventListener("DOMContentLoaded",bt),(document.readyState==="interactive"||document.readyState==="complete")&&bt()),!document.body||!document.head?(clearTimeout(di),di=setTimeout(()=>{li(!0)},1)):bt())}let si=setTimeout(()=>{},0);function bt(){if(a)return;c=document.getElementById("movie_player");let e=!1;if(c&&typeof c.getVideoData=="function"&&(e=c.getVideoData()),!e){clearTimeout(si),si=setTimeout(bt,1);return}ri||(ri=!0,Kn(),fi(),mi(),$n(),Se(),ia(),setInterval(Ei,5e3),jn(),ui(),setInterval(ui,100),window.top.postMessage("old_goodTube_playerIframe_loaded","*"))}function ui(){a||(Qn(),oa(),Zn(),na(),aa(),ra())}function Qn(){if(a)return;document.querySelector(".ytp-error")?h||(h=!0,window.top.postMessage("old_goodTube_fallback_enable","*"),Se(),clearTimeout(yt)):h&&(h=!1,window.top.postMessage("old_goodTube_fallback_disable","*"),Se(),clearTimeout(yt))}function jn(){a||(typeof M.goodTube_playbackSpeed<"u"&&c&&typeof c.setPlaybackRate=="function"&&c.setPlaybackRate(parseFloat(M.goodTube_playbackSpeed)),setInterval(()=>{a||c&&typeof c.getPlaybackRate=="function"&&window.top.postMessage("old_goodTube_playbackSpeed_"+c.getPlaybackRate(),"*")},100))}function Zn(){if(a)return;document.querySelectorAll(".ytp-videowall-still:not(.goodTube_fixed), .ytp-ce-covering-overlay:not(.goodTube_fixed)").forEach(t=>{t.addEventListener("click",i=>{a||(i.preventDefault(),i.stopImmediatePropagation(),window.top.location.href=t.href)},!0),t.addEventListener("mousedown",i=>{a||i.button===0&&(i.preventDefault(),i.stopImmediatePropagation())},!0),t.addEventListener("mouseup",i=>{a||i.button===0&&(i.preventDefault(),i.stopImmediatePropagation())},!0),t.addEventListener("touchstart",i=>{a||(i.preventDefault(),i.stopImmediatePropagation())},!0),t.addEventListener("touchend",i=>{a||(i.preventDefault(),i.stopImmediatePropagation())},!0),t.classList.add("goodTube_fixed")})}function Kn(){if(a)return;let e=document.createElement("style");e.setAttribute("data-version","old");let t=`
			/* Hide unwanted stuff */
			.ytp-gradient-top,
			.ytp-show-cards-title,
			.ytp-pause-overlay,
			.ytp-youtube-button,
			.ytp-cued-thumbnail-overlay,
			.ytp-paid-content-overlay,
			.ytp-impression-link,
			.ytp-ad-progress-list,
			.ytp-endscreen-next,
			.ytp-endscreen-previous,
			.ytp-info-panel-preview,
			.ytp-generic-popup,
			.goodTube_hideEndScreen .html5-endscreen {
				display: none !important;
			}

			.html5-endscreen {
				top: 0 !important;
			}

			/* Disable click events on the top area */
			.ytp-chrome-top {
				pointer-events: none !important;
			}

			/* Always show the next button */
			.ytp-next-button {
				opacity: 1 !important;
				cursor: pointer !important;
				display: block !important;
			}

			/* Show the prev button if it has the right class */
			.ytp-prev-button.goodTube_visible {
				opacity: 1 !important;
				cursor: pointer !important;
				display: block !important;
			}

			/* Show video title in fullscreen */
			:fullscreen .ytp-gradient-top,
			:fullscreen .ytp-show-cards-title {
				display: block !important;
			}
			:fullscreen .ytp-show-cards-title .ytp-button,
			:fullscreen .ytp-show-cards-title .ytp-title-channel {
				display: none !important;
			}
			:fullscreen .ytp-show-cards-title .ytp-title-text {
				padding-left: 36px !important;
			}

			/* Add theater mode button */
			.ytp-size-button {
				display: inline-block !important;
			}

			/* Hide theater button in fullscreen (don't use display none, it causes issues with keyboard shortcuts if this was the last focused element) */
			body .ytp-fullscreen .ytp-size-button {
				position: fixed !important;
				top: -9999px !important;
				left: -9999px !important;
				bottom: auto !important;
				right: auto !important;
				opacity: 0 !important;
				pointer-events: none !important;
			}

			/* Style autoplay button */
			#goodTube_autoplayButton {
				overflow: visible;
				position: relative;
			}

			#goodTube_autoplayButton .ytp-autonav-toggle-button::before {
				pointer-events: none;
				opacity: 0;
				position: absolute;
				top: -49px;
				left: 50%;
				transform: translateX(-50%);
				background: rgba(28, 28, 28, 0.9);
				color: #ffffff;
				border-radius: 4px;
				font-weight: 500;
				font-size: 12.98px;
				padding-left: 9px;
				padding-right: 9px;
				padding-bottom: 0;
				height: 25px;
				box-sizing: border-box;
				line-height: 25px;
				font-family: "YouTube Noto", Roboto, Arial, Helvetica, sans-serif;
				white-space: nowrap;
			}

			#goodTube_autoplayButton .ytp-autonav-toggle-button[aria-checked='true']::before {
				content: 'Auto-play is on';
			}

			#goodTube_autoplayButton .ytp-autonav-toggle-button[aria-checked='false']::before {
				content: 'Auto-play is off';
			}

			#goodTube_autoplayButton:hover .ytp-autonav-toggle-button::before {
				opacity: 1;
			}

			.ytp-big-mode #goodTube_autoplayButton .ytp-autonav-toggle-button {
				transform: scale(1.4);
				top: 21px;
			}

			.ytp-big-mode #goodTube_autoplayButton .ytp-autonav-toggle-button::before {
				font-size: 14px;
				height: 23px;
				line-height: 23px;
			}

			/* Make sure the background is transparent */
			body,
			.html5-video-player {
				background: transparent !important;
			}

			/* Make subtitles visible when paused (but not when using the "immersive translation" plugin) */
			body:not(.immersive-translation) .caption-window {
				display: block !important;
			}
		`;navigator.userAgent.toLowerCase().indexOf("firefox")===-1&&(t+=`
				.ytp-pip-button {
					display: inline-block !important;
				}
			`),M.goodTube_hideInfoCards==="true"&&(t+=`
				.ytp-ce-covering-overlay,
				.ytp-ce-element {
					display: none !important;
				}
			`),M.goodTube_hideEndScreen==="true"&&(t+=`
				.ytp-videowall-still {
					display: none !important;
				}
			`),e.textContent=t,document.head.appendChild(e)}function Jn(){if(a)return;let e=document.querySelector(".ytp-prev-button");e&&!e.classList.contains("goodTube_visible")&&e.classList.add("goodTube_visible")}function Xn(){if(a)return;let e=document.querySelector(".ytp-prev-button");e&&e.classList.contains("goodTube_visible")&&e.classList.remove("goodTube_visible")}let ci=setTimeout(()=>{},0);function fi(){if(a)return;if(!document.querySelector(".ytp-play-button")){clearTimeout(ci),ci=setTimeout(fi,100);return}let t=document.querySelector(".ytp-prev-button");t&&t.addEventListener("click",function(){a||window.top.postMessage("old_goodTube_prevVideo","*")});let i=document.querySelector(".ytp-next-button");i&&i.addEventListener("click",function(){a||window.top.postMessage("old_goodTube_nextVideo","*")});let n=document.querySelector(".ytp-size-button");n&&(n.setAttribute("data-tooltip-target-id","ytp-size-button"),n.setAttribute("data-title-no-tooltip","Theater mode (t)"),n.setAttribute("aria-label","Theater mode (t)"),n.setAttribute("title","Theater mode (t)"),n.setAttribute("data-tooltip-title","Theater mode (t)"),at(n,`
				<svg data-version="old" height="100%" version="1.1" viewBox="0 0 36 36" width="100%"><use class="ytp-svg-shadow" xlink:href="#ytp-id-30"></use><path d="m 28,11 0,14 -20,0 0,-14 z m -18,2 16,0 0,10 -16,0 0,-10 z" fill="#fff" fill-rule="evenodd" id="ytp-id-30"></path></svg>
			`),n.addEventListener("click",function(){a||window.top.postMessage("old_goodTube_theater","*")}));let r=document.querySelector(".ytp-subtitles-button");if(r){vn(r,"beforebegin",'<button class="ytp-button ytp-autonav-toggle" id="goodTube_autoplayButton" data-version="old"><div class="ytp-autonav-toggle-button-container"><div class="ytp-autonav-toggle-button" aria-checked="'+M.goodTube_autoplay+'"></div></div></button>');let u=document.querySelector("#goodTube_autoplayButton");u&&u.addEventListener("click",function(){if(a)return;let m=u.querySelector(".ytp-autonav-toggle-button");m.getAttribute("aria-checked")==="true"?(m.setAttribute("aria-checked","false"),window.top.postMessage("old_goodTube_autoplay_false","*")):(m.setAttribute("aria-checked","true"),window.top.postMessage("old_goodTube_autoplay_true","*"))})}}let pi=setTimeout(()=>{},0);function mi(){if(a)return;let e=document.querySelector("#movie_player video");if(!e){clearTimeout(pi),pi=setTimeout(mi,100);return}e.removeEventListener("pause",bi),e.addEventListener("pause",bi)}function bi(){document.querySelector(".ended-mode")&&(Ei(!0),window.top.postMessage("old_goodTube_videoEnded","*"))}function $n(){a||document.addEventListener("keydown",function(e){if(a||e.ctrlKey||e.altKey||e.metaKey||h)return;let t=e.key.toLowerCase();if(t==="t"&&window.top.postMessage("old_goodTube_theater","*"),t==="i"){let i=document.querySelector(".ytp-pip-button");i&&Z(i)}else t==="p"&&e.shiftKey||t==="mediatrackprevious"?window.top.postMessage("old_goodTube_prevVideo","*"):(t==="n"&&e.shiftKey||t==="mediatracknext")&&window.top.postMessage("old_goodTube_nextVideo","*")})}let ne=setTimeout(()=>{},0),X=!1,ce=-1,fe=!1,pe=!1,me=!1,g=document.querySelector("video"),C=document.querySelector(".goodTube_doubleSpeed");function oo(e){if(a)return;let t=e.key.toLowerCase();if(t===" "||t==="k"){if(h)return;if(pe){e.preventDefault(),e.stopImmediatePropagation();return}if(e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),e.stopImmediatePropagation(),X)||fe)return;fe=!0,ce=c.getPlaybackRate(),clearTimeout(ne),ne=setTimeout(()=>{c.setPlaybackRate(2),c.playVideo(),C.style.display="block",X=!0},1e3)}}function io(e){if(a)return;let t=e.key.toLowerCase();if(t===" "||t==="k"){if(h)return;if(pe){e.preventDefault(),e.stopImmediatePropagation();return}if(e.ctrlKey||e.altKey||e.metaKey)return;e.preventDefault(),e.stopImmediatePropagation()}}function no(e){if(a)return;let t=e.key.toLowerCase();if(t===" "||t==="k"){if(h)return;if(pe){e.preventDefault(),e.stopImmediatePropagation();return}if(e.ctrlKey||e.altKey||e.metaKey)return;clearTimeout(ne),X?(c.setPlaybackRate(ce),C.style.display="none",X=!1):(g=document.querySelector("video"),me=!0,Z(g),me=!1,window.top.postMessage("old_goodTube_cancelPlay","*")),fe=!1,e.preventDefault(),e.stopImmediatePropagation()}}function ke(e){if(!a&&e.button===0&&!me&&!h){if(fe){e.preventDefault(),e.stopImmediatePropagation();return}pe=!0,e.preventDefault(),e.stopImmediatePropagation(),ce=c.getPlaybackRate(),clearTimeout(ne),ne=setTimeout(()=>{c.setPlaybackRate(2),c.playVideo(),C.style.display="block",X=!0},1e3)}}function ao(e){a||me||h||(e.preventDefault(),e.stopImmediatePropagation())}function Ae(e){if(!a&&e.button===0&&!me&&!h){if(fe){e.preventDefault(),e.stopImmediatePropagation();return}clearTimeout(ne),X?(c.setPlaybackRate(ce),C.style.display="none",X=!1):(g=document.querySelector("video"),me=!0,Z(g),me=!1,setTimeout(()=>{g.focus()},0),window.top.postMessage("old_goodTube_cancelPlay","*")),pe=!1,e.preventDefault(),e.stopImmediatePropagation()}}function Ee(e){if(!a&&!h){if(fe){e.preventDefault(),e.stopImmediatePropagation();return}e.preventDefault(),e.stopImmediatePropagation(),clearTimeout(ne),X&&(c.setPlaybackRate(ce),C.style.display="none",X=!1),pe=!1}}let gt=setTimeout(()=>{},0);function Se(){if(!a&&M.goodTube_instantPause!=="true"){if(clearTimeout(ne),X=!1,fe=!1,pe=!1,g=document.querySelector("video"),C=document.querySelector(".goodTube_doubleSpeed"),h){document.removeEventListener("keydown",oo,!0),document.removeEventListener("keypress",io,!0),document.removeEventListener("keyup",no,!0),g&&(g.removeEventListener("mousedown",ke,!0),g.removeEventListener("touchstart",ke,!0),g.removeEventListener("click",ao,!0),g.removeEventListener("mouseup",Ae,!0),g.removeEventListener("touchend",Ae,!0),g.removeEventListener("mouseout",Ee,!0),g.removeEventListener("touchcancel",Ee,!0)),C&&(C.style.display="none");return}if(!g){clearTimeout(gt),gt=setTimeout(Se,100);return}if(c=document.getElementById("movie_player"),!c||typeof c.getPlaybackRate!="function"||typeof c.setPlaybackRate!="function"||typeof c.playVideo!="function"){clearTimeout(gt),gt=setTimeout(Se,100);return}if(ce=c.getPlaybackRate(),c.setPlaybackRate(ce),C)C.style.display="none";else{C=document.createElement("div"),C.setAttribute("data-version","old"),C.classList.add("goodTube_doubleSpeed"),C.style.position="relative",C.style.zIndex="999",C.style.display="none",at(C,`
				<div class="ytp-overlay ytp-speedmaster-overlay" data-layer="4" data-version="old">
					<div class="ytp-speedmaster-user-edu ytp-speedmaster-has-icon">
						<div class="ytp-speedmaster-label">2x</div>
						<div class="ytp-speedmaster-icon">
							<svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">
								<path class="ytp-svg-fill" d="M 10,24 18.5,18 10,12 V 24 z M 19,12 V 24 L 27.5,18 19,12 z" id="ytp-id-1"></path>
							</svg>
						</div>
					</div>
				</div>
			`);let e=document.querySelector(".html5-video-player");e&&e.appendChild(C)}document.removeEventListener("keydown",oo,!0),document.addEventListener("keydown",oo,!0),document.removeEventListener("keypress",io,!0),document.addEventListener("keypress",io,!0),document.removeEventListener("keyup",no,!0),document.addEventListener("keyup",no,!0),g.removeEventListener("mousedown",ke,!0),g.addEventListener("mousedown",ke,!0),g.removeEventListener("touchstart",ke,!0),g.addEventListener("touchstart",ke,!0),g.removeEventListener("click",ao,!0),g.addEventListener("click",ao,!0),g.removeEventListener("mouseup",Ae,!0),g.addEventListener("mouseup",Ae,!0),g.removeEventListener("touchend",Ae,!0),g.addEventListener("touchend",Ae,!0),g.removeEventListener("mouseout",Ee,!0),g.addEventListener("mouseout",Ee,!0),g.removeEventListener("touchcancel",Ee,!0),g.addEventListener("touchcancel",Ee,!0)}}function ea(e,t){a||(c=document.getElementById("movie_player"),c&&typeof c.loadVideoById=="function"&&(c.loadVideoById({videoId:e,startSeconds:t}),Se()))}let Ie=setTimeout(()=>{},0);function _t(e){if(a||typeof e.data!="string")return;if(!document.body||!document.head){clearTimeout(Ie),Ie=setTimeout(()=>{_t(e)},100);return}c=document.getElementById("movie_player");let t=!1;if(c&&typeof c.getVideoData=="function"&&(t=c.getVideoData()),!t){clearTimeout(Ie),Ie=setTimeout(()=>{_t(e)},100);return}if(e.data.indexOf("old_goodTube_load_")!==-1){let i=e.data.replace("old_goodTube_load_","").split("|||"),n=i[0],r=parseFloat(i[1]);ea(n,r)}else if(e.data==="old_goodTube_stopVideo")lo(),xi();else if(e.data.indexOf("old_goodTube_skipTo_")!==-1){let i=e.data.replace("old_goodTube_skipTo_","").split("|||"),n=parseFloat(i[0]),r=i[1];if(r!==""&&t.video_id!==r){clearTimeout(Ie),Ie=setTimeout(()=>{_t(e)},100);return}hi(n)}else if(e.data==="old_goodTube_pause")lo();else if(e.data.indexOf("old_goodTube_play|||")!==-1)Ai(e.data.replace("goodTube_play|||",""));else if(e.data==="old_goodTube_endScreen_show")document.body&&document.body.classList.contains("goodTube_hideEndScreen")&&document.body.classList.remove("goodTube_hideEndScreen");else if(e.data==="old_goodTube_endScreen_hide")document.body&&!document.body.classList.contains("goodTube_hideEndScreen")&&document.body.classList.add("goodTube_hideEndScreen");else if(e.data.indexOf("old_goodTube_shortcut_")!==-1){let i=document.querySelector("video");if(i){let n=e.data.replace("old_goodTube_shortcut_","").split("_"),r=n[0],u={bubbles:!0,key:n[1],keyCode:n[2],ctrlKey:n[3]==="true",metaKey:n[4]==="true",shiftKey:n[5]==="true",altKey:n[6]==="true"};i.dispatchEvent(new KeyboardEvent(r,u))}}else e.data==="old_goodTube_fullscreen"?gi():e.data==="old_goodTube_autoplay_true"?(f("goodTube_autoplay","true"),J="true",ro("true")):e.data==="old_goodTube_autoplay_false"?(f("goodTube_autoplay","false"),J="false",ro("false")):e.data==="old_goodTube_prevButton_true"?Jn():e.data==="old_goodTube_prevButton_false"&&Xn()}let yt=setTimeout(()=>{},0);function gi(){if(a)return;let e=document.querySelector(".ytp-fullscreen-button");e?Z(e):(clearTimeout(yt),yt=setTimeout(gi,100))}let _i=setTimeout(()=>{},0);function ro(e){if(a)return;let t=document.querySelector("#goodTube_autoplayButton");t?t.querySelector(".ytp-autonav-toggle-button").getAttribute("aria-checked")!==e&&Z(t):(clearTimeout(_i),_i=setTimeout(()=>{ro(e)},100))}let yi=setTimeout(()=>{},0);function hi(e){if(a)return;let t=document.querySelector("video");t?t.currentTime=parseFloat(e):(clearTimeout(yi),yi=setTimeout(()=>{hi(e)},100))}let Ti=setTimeout(()=>{},0);function lo(){if(a)return;let e=document.querySelector("video");e?e.pause():(clearTimeout(Ti),Ti=setTimeout(lo,100)),window.top.postMessage("old_goodTube_cancelPlay","*")}let vi=setTimeout(()=>{},0);function xi(){if(a)return;let e=document.querySelector("video");e?e.muted=!0:(clearTimeout(vi),vi=setTimeout(xi,100))}let wi=setTimeout(()=>{},0);function ta(){if(a)return;let e=document.querySelector("video");e?e.muted=!1:(clearTimeout(wi),wi=setTimeout(ta,100))}let ki=setTimeout(()=>{},0);function Ai(e){if(a)return;c=document.getElementById("movie_player");let t=!1;if(c&&typeof c.getVideoData=="function"&&(t=c.getVideoData()),!t||e!==t.video_id){clearTimeout(ki),ki=setTimeout(()=>{Ai(e)},100);return}let i=document.querySelector("#movie_player video");i&&i.currentTime>=i.duration||c&&typeof c.playVideo=="function"&&c.playVideo()}function oa(){if(a)return;let e=document.querySelector(".ytp-fullscreen-button");e&&(e.setAttribute("aria-disabled","false"),document.querySelector(".ytp-fullscreen")?e.setAttribute("title","Exit full screen (f)"):e.setAttribute("title","Full screen (f)"))}function Ei(e=!1){if(a)return;c=document.getElementById("movie_player");let t=!1;if(c&&typeof c.getVideoData=="function"&&(t=c.getVideoData()),!t)return;let i=document.querySelector("video");if(i){let n=i.currentTime;e&&(n=i.duration),window.top.postMessage("old_goodTube_syncMainPlayer_"+n+"|||"+t.video_id,"*")}}function ia(){a||(addEventListener("leavepictureinpicture",e=>{a||(Ue=!1,window.top.postMessage("old_goodTube_pip_false","*"))}),addEventListener("enterpictureinpicture",e=>{a||(Ue=!0,window.top.postMessage("old_goodTube_pip_true","*"))}))}function na(){a||"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("nexttrack",()=>{window.top.postMessage("old_goodTube_nextVideo","*")}),navigator.mediaSession.setActionHandler("previoustrack",()=>{window.top.postMessage("old_goodTube_prevVideo","*")}))}function aa(){if(a)return;let e=document.querySelector("video");if(e){let n=function(m,y){return y==0?m:n(y,m%y)},r=function(m,y){var v=n(m,y);return[m/v,y/v]},t=e.videoWidth,i=e.videoHeight,u=r(t,i);u.length===2&&!isNaN(u[0])&&!isNaN(u[1])&&window.top.postMessage("old_goodTube_syncAspectRatio_"+u[0]+"_"+u[1],"*")}}let Si=!1;function ra(){a||!Si&&document.querySelector('style[data-id^="immersive-translate"]')&&(document.body.classList.add("immersive-translation"),Si=!0)}let Ii=!1,Mi=setTimeout(()=>{},0);function Ci(){a||(window.addEventListener("message",uo),document.addEventListener("DOMContentLoaded",so),(document.readyState==="interactive"||document.readyState==="complete")&&so(),!document.body||!document.head?(clearTimeout(Mi),Mi=setTimeout(Ci,1)):so())}function so(){a||Ii||(Ii=!0,da(),la(),window.top.postMessage("old_goodTube_proxyIframe_loaded","*"))}function da(){if(a)return;let e=document.createElement("style");e.setAttribute("data-version","old"),e.textContent=`
			/* Hide the page */
			body *:not(#goodTube_youtube_iframe_old) {
				display: none !important;
				opacity: 0 !important;
				visibility: hidden !important;
			}

			body {
				background: transparent !important;
				overflow: hidden !important;
			}

			/* Style the Youtube iframe */
			#goodTube_youtube_iframe_old {
				position: fixed;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 99999;
			}
		`,document.head.appendChild(e)}function la(){if(a)return;let e=document.createElement("iframe");e.setAttribute("data-version","old"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","yes"),e.setAttribute("allow","accelerometer *; autoplay *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;"),e.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),e.setAttribute("allowfullscreen",!0),e.setAttribute("id","goodTube_youtube_iframe_old"),e.setAttribute("data-version","old"),document.body.appendChild(e)}let ht=setTimeout(()=>{},0);function uo(e){if(a||typeof e.data!="string")return;(!document.body||!document.head)&&(clearTimeout(ht),ht=setTimeout(()=>{uo(e)},100));let t=document.getElementById("goodTube_youtube_iframe_old");t?e.data.indexOf("old_goodTube_src_")!==-1?t.contentWindow.location.replace(e.data.replace("old_goodTube_src_","")):t.contentWindow.postMessage(e.data,"*"):(clearTimeout(ht),ht=setTimeout(()=>{uo(e)},100))}function sa(){a||(window.top===window.self&&window.location.href.indexOf("youtube")!==-1?Jo():window.location.href.indexOf("?goodTubeProxy=1")!==-1?Ci():window.location.href.indexOf("?goodTubeEmbed=1")!==-1&&li())}sa()})();})();
